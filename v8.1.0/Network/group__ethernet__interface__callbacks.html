<!-- HTML header for doxygen 1.9.6-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Network Component: User Callbacks</title>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="tabs.js"></script>
<script type="text/javascript" src="footer.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="URL_keys.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(function() { init_search(); });
/* @license-end */
</script>
<script type="text/javascript" src="darkmode_toggle.js"></script>
<link href="extra_stylesheet.css" rel="stylesheet" type="text/css"/>
<link href="extra_navtree.css" rel="stylesheet" type="text/css"/>
<link href="extra_search.css" rel="stylesheet" type="text/css"/>
<link href="extra_tabs.css" rel="stylesheet" type="text/css"/>
<link href="version.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../version.js"></script>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 55px;">
  <td id="projectlogo" style="padding: 1.5em;"><img alt="Logo" src="armkeil_white_h.png"/></td>
  <td style="padding-left: 1em; padding-bottom: 1em;padding-top: 1em;">
   <div id="projectname">Network Component
   &#160;<span id="projectnumber"><script type="text/javascript">
     <!--
     writeHeader.call(this);
     writeVersionDropdown.call(this, "Network Component");
     //-->
    </script>
   </span>
   </div>
   <div id="projectbrief">MDK Middleware for IPv4 and IPv6 Networking</div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<div id="CMSISnav" class="tabs1">
  <ul class="tablist">
    <script type="text/javascript">
      writeComponentTabs.call(this);
    </script>
  </ul>
</div>
<script type="text/javascript">
  writeSubComponentTabs.call(this);
</script>
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('group__ethernet__interface__callbacks.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">User Callbacks<div class="ingroups"><a class="el" href="group__netInterfaces.html">Interfaces</a> &raquo; <a class="el" href="group__netETH__Func.html">Ethernet Interface</a></div></div></div>
</div><!--header-->
<div class="contents">

<p>Functions to notify the user application about events on the Ethernet interface.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gaec33d8aae18edc0ce65cad4480246398" id="r_gaec33d8aae18edc0ce65cad4480246398"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaec33d8aae18edc0ce65cad4480246398">netETH_Notify</a> (uint32_t if_num, <a class="el" href="group__netETH__Enums.html#ga91c7668b025ba3e42dab01ff59e67a5f">netETH_Event</a> event, uint32_t val)</td></tr>
<tr class="memdesc:gaec33d8aae18edc0ce65cad4480246398"><td class="mdescLeft">&#160;</td><td class="mdescRight">Notify the user of Ethernet link state change event. [<a class="el" href="group__function__categories.html#user-provided">user-provided</a>].  <br /></td></tr>
<tr class="separator:gaec33d8aae18edc0ce65cad4480246398"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga44683a9134e3a393c5e8125ce42040f9" id="r_ga44683a9134e3a393c5e8125ce42040f9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga44683a9134e3a393c5e8125ce42040f9">netETH_ReceiveRaw</a> (uint32_t if_num, const uint8_t *buf, uint32_t len)</td></tr>
<tr class="memdesc:ga44683a9134e3a393c5e8125ce42040f9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Receive raw Ethernet data. [<a class="el" href="group__function__categories.html#user-provided">user-provided</a>].  <br /></td></tr>
<tr class="separator:ga44683a9134e3a393c5e8125ce42040f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Description</h2>
<p>Functions to notify the user application about events on the Ethernet interface. </p>
<p>An Ethernet link state change is reported by the function <a class="el" href="#gaec33d8aae18edc0ce65cad4480246398">netETH_Notify</a>. If you need to monitor the status of your connection, you must implement this function.</p>
<h2 class="groupheader">Function Documentation</h2>
<a id="gaec33d8aae18edc0ce65cad4480246398" name="gaec33d8aae18edc0ce65cad4480246398"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaec33d8aae18edc0ce65cad4480246398">&#9670;&#160;</a></span>netETH_Notify()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void netETH_Notify </td>
          <td>(</td>
          <td class="paramtype">uint32_t</td>          <td class="paramname"><span class="paramname"><em>if_num</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__netETH__Enums.html#ga91c7668b025ba3e42dab01ff59e67a5f">netETH_Event</a></td>          <td class="paramname"><span class="paramname"><em>event</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t</td>          <td class="paramname"><span class="paramname"><em>val</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel extern">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Notify the user of Ethernet link state change event. [<a class="el" href="group__function__categories.html#user-provided">user-provided</a>]. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">if_num</td><td>Ethernet interface number. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">event</td><td>Ethernet link state event as defined in <a class="el" href="group__netETH__Enums.html#ga91c7668b025ba3e42dab01ff59e67a5f">netETH_Event</a>. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">val</td><td>pointer to the event value.</td></tr>
  </table>
  </dd>
</dl>
<p>The callback function <b>netETH_Notify</b> polls the link status and notifies the user about state changes.</p>
<p>The argument <em class="arg">if_num</em> specifies the <a class="el" href="group__netInterfaces__Common.html#interface_num">Ethernet Interface</a> for which the link status has changed.</p>
<p>The argument <em class="arg">event</em> specifies link event, as defined in <a class="el" href="group__netETH__Enums.html#ga91c7668b025ba3e42dab01ff59e67a5f">netETH_Event</a> enumeration:</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Event   </th><th class="markdownTableHeadNone">Description    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><span class="XML-Token">netETH_LinkDown</span>   </td><td class="markdownTableBodyNone">Link down    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><span class="XML-Token">netETH_LinkUp</span>   </td><td class="markdownTableBodyNone">Link up; val=link_info    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><span class="XML-Token">netETH_Wakeup</span>   </td><td class="markdownTableBodyNone">Wake-up (on Magic Packet)    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><span class="XML-Token">netETH_TimerAlarm</span>   </td><td class="markdownTableBodyNone">Timer Alarm (PTP)   </td></tr>
</table>
<p>The argument <em class="arg">val</em> stores the value of the link event.</p>
<p><b>Code</b> <b>Example</b> </p><div class="fragment"><div class="line"><span class="keywordtype">void</span> <a class="code hl_function" href="#gaec33d8aae18edc0ce65cad4480246398" title="Notify the user of Ethernet link state change event. [user-provided].">netETH_Notify</a> (uint32_t if_num, <a class="code hl_enumeration" href="group__netETH__Enums.html#ga91c7668b025ba3e42dab01ff59e67a5f" title="Ethernet Callback Events.">netETH_Event</a> event, uint32_t val) {</div>
<div class="line">  <a class="code hl_struct" href="group__Ethernet__structs.html#structNET__ETH__LINK__INFO" title="Ethernet link information.">NET_ETH_LINK_INFO</a> *info;</div>
<div class="line">     </div>
<div class="line">  <span class="keywordflow">switch</span> (event) {</div>
<div class="line">    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="rl__net_8h.html#ga91c7668b025ba3e42dab01ff59e67a5faa6f12b9d6752175e9dc6ba3def7d187c" title="Link down.">netETH_LinkDown</a>:</div>
<div class="line">      printf (<span class="stringliteral">&quot;Link is down\n&quot;</span>);</div>
<div class="line">      <span class="keywordflow">break</span>;</div>
<div class="line">    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="rl__net_8h.html#ga91c7668b025ba3e42dab01ff59e67a5fa29918779e446e948c7afc8730b0ce128" title="Link up; val=link_info.">netETH_LinkUp</a>:</div>
<div class="line">      printf (<span class="stringliteral">&quot;Link is up\n&quot;</span>);</div>
<div class="line">      info = (<a class="code hl_struct" href="group__Ethernet__structs.html#structNET__ETH__LINK__INFO" title="Ethernet link information.">NET_ETH_LINK_INFO</a> *)&amp;val;</div>
<div class="line">      <span class="keywordflow">switch</span> (info-&gt;<a class="code hl_variable" href="group__Ethernet__structs.html#a220859a8b5da0232739a11cbe7f79fc5" title="Link speed: 0= 10 MBit, 1= 100 MBit, 2= 1 GBit.">speed</a>) {</div>
<div class="line">        <span class="keywordflow">case</span> 0:</div>
<div class="line">          printf (<span class="stringliteral">&quot;10 MBit\n&quot;</span>);</div>
<div class="line">          <span class="keywordflow">break</span>;</div>
<div class="line">        <span class="keywordflow">case</span> 1:</div>
<div class="line">          printf (<span class="stringliteral">&quot;100 MBit\n&quot;</span>);</div>
<div class="line">          <span class="keywordflow">break</span>;</div>
<div class="line">        <span class="keywordflow">case</span> 2:</div>
<div class="line">          printf (<span class="stringliteral">&quot;1 GBit\n&quot;</span>);</div>
<div class="line">          <span class="keywordflow">break</span>;</div>
<div class="line">      }</div>
<div class="line">      <span class="keywordflow">switch</span> (info-&gt;<a class="code hl_variable" href="group__Ethernet__structs.html#a44b6cae894d7311dcdae7e93969c3c09" title="Duplex mode: 0= Half, 1= Full.">duplex</a>) {</div>
<div class="line">        <span class="keywordflow">case</span> 0:</div>
<div class="line">          printf (<span class="stringliteral">&quot;Half duplex\n&quot;</span>);</div>
<div class="line">          <span class="keywordflow">break</span>;</div>
<div class="line">        <span class="keywordflow">case</span> 1:</div>
<div class="line">          printf (<span class="stringliteral">&quot;Full duplex\n&quot;</span>);</div>
<div class="line">          <span class="keywordflow">break</span>;</div>
<div class="line">      }</div>
<div class="line">      <span class="keywordflow">break</span>;</div>
<div class="line">    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="rl__net_8h.html#ga91c7668b025ba3e42dab01ff59e67a5fa342149b0b68bb39ed6948f1381618587" title="Wake-up (on Magic Packet)">netETH_Wakeup</a>:</div>
<div class="line">      printf (<span class="stringliteral">&quot;Wakeup frame received\n&quot;</span>);</div>
<div class="line">      <span class="keywordflow">break</span>;</div>
<div class="line">    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="rl__net_8h.html#ga91c7668b025ba3e42dab01ff59e67a5fae1ea6b8d06f76655a770eab5349c5b47" title="Timer Alarm (PTP)">netETH_TimerAlarm</a>:</div>
<div class="line">      printf (<span class="stringliteral">&quot;Timer alarm\n&quot;</span>);</div>
<div class="line">      <span class="keywordflow">break</span>;</div>
<div class="line">  }</div>
<div class="line">} </div>
</div><!-- fragment --> 
</div>
</div>
<a id="ga44683a9134e3a393c5e8125ce42040f9" name="ga44683a9134e3a393c5e8125ce42040f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga44683a9134e3a393c5e8125ce42040f9">&#9670;&#160;</a></span>netETH_ReceiveRaw()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void netETH_ReceiveRaw </td>
          <td>(</td>
          <td class="paramtype">uint32_t</td>          <td class="paramname"><span class="paramname"><em>if_num</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t *</td>          <td class="paramname"><span class="paramname"><em>buf</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t</td>          <td class="paramname"><span class="paramname"><em>len</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel extern">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Receive raw Ethernet data. [<a class="el" href="group__function__categories.html#user-provided">user-provided</a>]. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">if_num</td><td>Ethernet interface number. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">buf</td><td>buffer containing the received data. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">len</td><td>length of received data in bytes.</td></tr>
  </table>
  </dd>
</dl>
<p>The user function <b>netETH_ReceiveRaw</b> is called by the Ethernet interface to provide raw Ethernet frames to the user. The data contains Ethernet header and payload data. This allows the users to implement additional Ethernet protocols, which are not supported by the network library.</p>
<p>The network library calls this function, if the Ethernet Type is not supported. For supported Ethernet Types: ARP (0x0806), IPv4 (0x0800) and IPv6 (0x86dd), the function is not called.</p>
<p>The argument <em class="arg">if_num</em> specifies the <a class="el" href="group__netInterfaces__Common.html#interface_num">Ethernet Interface</a> which received the frame.</p>
<p>The argument <em class="arg">buf</em> points to a buffer containing the received Ethernet frame data.</p>
<p>The argument <em class="arg">len</em> specifies the number of received data bytes.</p>
<dl class="section note"><dt>Note</dt><dd><ul>
<li>This function is optional. It is not required for a default Ethernet interface configuration.</li>
</ul>
</dd></dl>
<p><b>Code</b> <b>Example</b> </p><div class="fragment"><div class="line"><span class="keywordtype">void</span> <a class="code hl_function" href="#ga44683a9134e3a393c5e8125ce42040f9" title="Receive raw Ethernet data. [user-provided].">netETH_ReceiveRaw</a> (uint32_t if_num, <span class="keyword">const</span> uint8_t *buf, uint32_t len) {</div>
<div class="line">  uint16_t ether_type;</div>
<div class="line"> </div>
<div class="line">  ether_type = (buf[12] &lt;&lt; 8) | buf[13];</div>
<div class="line">  <span class="keywordflow">if</span> (ether_type == 0x888E) {                   <span class="comment">// EAPoL protocol</span></div>
<div class="line">    <span class="comment">// Process the frame here</span></div>
<div class="line">  }</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">
      <script type="text/javascript">
        <!--
        writeFooter.call(this);
        //-->
      </script> 
    </li>
  </ul>
</div>
</body>
</html>

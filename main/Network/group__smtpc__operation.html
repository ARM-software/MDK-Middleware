<!-- HTML header for doxygen 1.9.6-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Network Component: User Callbacks</title>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="tabs.js"></script>
<script type="text/javascript" src="footer.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="URL_keys.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(function() { init_search(); });
/* @license-end */
</script>
<script type="text/javascript" src="darkmode_toggle.js"></script>
<link href="extra_stylesheet.css" rel="stylesheet" type="text/css"/>
<link href="extra_navtree.css" rel="stylesheet" type="text/css"/>
<link href="extra_search.css" rel="stylesheet" type="text/css"/>
<link href="extra_tabs.css" rel="stylesheet" type="text/css"/>
<link href="version.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../version.js"></script>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 55px;">
  <td id="projectlogo" style="padding: 1.5em;"><img alt="Logo" src="armkeil_white_h.png"/></td>
  <td style="padding-left: 1em; padding-bottom: 1em;padding-top: 1em;">
   <div id="projectname">Network Component
   &#160;<span id="projectnumber"><script type="text/javascript">
     <!--
     writeHeader.call(this);
     writeVersionDropdown.call(this, "Network Component");
     //-->
    </script>
   </span>
   </div>
   <div id="projectbrief">MDK Middleware for IPv4 and IPv6 Networking</div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<div id="CMSISnav" class="tabs1">
  <ul class="tablist">
    <script type="text/javascript">
      writeComponentTabs.call(this);
    </script>
  </ul>
</div>
<script type="text/javascript">
  writeSubComponentTabs.call(this);
</script>
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('group__smtpc__operation.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">User Callbacks<div class="ingroups"><a class="el" href="group__netServices.html">Services</a> &raquo; <a class="el" href="group__netSMTPc__Func.html">SMTP Client</a></div></div></div>
</div><!--header-->
<div class="contents">

<p>Functions to notify the user application about SMTP client events.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga9f299f586e428d9a005c1ca9668fd7b3" id="r_ga9f299f586e428d9a005c1ca9668fd7b3"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga9f299f586e428d9a005c1ca9668fd7b3">netSMTPc_Process</a> (<a class="el" href="group__netSMTPc__Enums.html#ga3fdc214108a5b06efd6df79a00c1015b">netSMTPc_Request</a> request, char *buf, uint32_t buf_len, uint32_t *pvar)</td></tr>
<tr class="memdesc:ga9f299f586e428d9a005c1ca9668fd7b3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Request parameters for SMTP client session. [<a class="el" href="group__function__categories.html#user-provided">user-provided</a>].  <br /></td></tr>
<tr class="separator:ga9f299f586e428d9a005c1ca9668fd7b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5240c89a181c1ddb07bbe888a6a8657f" id="r_ga5240c89a181c1ddb07bbe888a6a8657f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga5240c89a181c1ddb07bbe888a6a8657f">netSMTPc_Notify</a> (<a class="el" href="group__netSMTPc__Enums.html#ga965bf429576f6444eda8960b9b53eb40">netSMTPc_Event</a> event)</td></tr>
<tr class="memdesc:ga5240c89a181c1ddb07bbe888a6a8657f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Notify the user application when SMTP client operation ends. [<a class="el" href="group__function__categories.html#user-provided">user-provided</a>].  <br /></td></tr>
<tr class="separator:ga5240c89a181c1ddb07bbe888a6a8657f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga58a7a56c6bda480e21591ee33c028aa5" id="r_ga58a7a56c6bda480e21591ee33c028aa5"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga58a7a56c6bda480e21591ee33c028aa5">netSMTPc_AcceptAuthentication</a> (const <a class="el" href="group__network__structs.html#structNET__ADDR">NET_ADDR</a> *addr)</td></tr>
<tr class="memdesc:ga58a7a56c6bda480e21591ee33c028aa5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Accept or deny authentication requested by SMTP server. [<a class="el" href="group__function__categories.html#user-provided">user-provided</a>].  <br /></td></tr>
<tr class="separator:ga58a7a56c6bda480e21591ee33c028aa5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Description</h2>
<p>Functions to notify the user application about SMTP client events. </p>
<p>SMTP Client user callbacks are used in <b>legacy mode</b>, which is started with the function <a class="el" href="group__smtpc__user__api.html#ga33454db9427528430742f6863c22f871">netSMTPc_Connect</a>. User callback functions are inside the user interface module <b>SMTP_Client_UIF.c</b>. To add the module to your project, simply right-click on the Source group, select <b>Add New Item to Group</b>, then click on <b>User Code Template</b> and scroll in the template files list until you find the <b>SMTP Client</b> template. Customize this module by changing the <b>sender's address</b>, the <b>recipient's address</b>, the <b>subject</b>, and the <b>body</b> of the email message.</p>
<p>The following functions are available:</p><ul>
<li><a class="el" href="#ga9f299f586e428d9a005c1ca9668fd7b3">netSMTPc_Process</a> - request parameters for SMTP client session (such as username, password for secure connections).</li>
<li><a class="el" href="#ga5240c89a181c1ddb07bbe888a6a8657f">netSMTPc_Notify</a> - notify the user application when the SMTP client operation ends.</li>
<li><a class="el" href="#ga58a7a56c6bda480e21591ee33c028aa5">netSMTPc_AcceptAuthentication</a> - callback function to accept/deny the authentication advertised by SMTP Server.</li>
</ul>
<dl class="section note"><dt>Note</dt><dd>When SMTP Client is used with the function <a class="el" href="group__smtpc__user__api.html#gabb5265fa948e0bfded49cc7bf695ab5d">netSMTPc_SendMail</a>, user callbacks are not used and interface module <b>SMTP_Client_UIF.c</b> can be omitted.</dd></dl>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga58a7a56c6bda480e21591ee33c028aa5" name="ga58a7a56c6bda480e21591ee33c028aa5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga58a7a56c6bda480e21591ee33c028aa5">&#9670;&#160;</a></span>netSMTPc_AcceptAuthentication()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool netSMTPc_AcceptAuthentication </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="group__network__structs.html#structNET__ADDR">NET_ADDR</a> *</td>          <td class="paramname"><span class="paramname"><em>addr</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel extern">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Accept or deny authentication requested by SMTP server. [<a class="el" href="group__function__categories.html#user-provided">user-provided</a>]. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">addr</td><td>structure containing IP address and port of SMTP server. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>true = Authentication is accepted.</li>
<li>false = Authentication is denied.</li>
</ul>
</dd></dl>
<p>The callback function <b>netSMTPc_AcceptAuthentication</b> informs the Network Component if the SMTP client should log on to a SMTP server when sending e-mails. The Network Component library calls this function and asks the user what to do if the SMTP server has advertised the user authentication. It is now on the user to accept the authentication.</p>
<p>The argument <em class="arg">addr</em> points to a buffer containing the IP address and port of the remote SMTP server.</p>
<dl class="section note"><dt>Note</dt><dd>This function is called if the SMTP server has advertised user authentication.</dd></dl>
<p><b>Code</b> <b>Example</b> </p>
<p>The following example is available in the user code template file <b>SMTP_Client_UIF.c</b>. Customize it to the application's needs.</p>
<div class="fragment"><div class="line"><span class="keywordtype">bool</span> <a class="code hl_function" href="#ga58a7a56c6bda480e21591ee33c028aa5" title="Accept or deny authentication requested by SMTP server. [user-provided].">netSMTPc_AcceptAuthentication</a> (<span class="keyword">const</span> <a class="code hl_struct" href="group__network__structs.html#structNET__ADDR" title="Network Address IPv4/IPv6 capable.">NET_ADDR</a> *addr) {</div>
<div class="line">  <span class="keywordflow">if</span> ((addr-&gt;<a class="code hl_variable" href="group__network__structs.html#a0444de3555073772ebd025a838b9a911" title="IP address type: NET_ADDR_IP4 or NET_ADDR_IP6.">addr_type</a> == <a class="code hl_define" href="rl__net_8h.html#ab5ae61a54f36e338a8dc06cee088d89f" title="IPv4 Address.">NET_ADDR_IP4</a>) &amp;&amp; </div>
<div class="line">      (addr-&gt;<a class="code hl_variable" href="group__network__structs.html#a110c5dd7725b86823c9408661a3f854b" title="IPv4 or IPv6 address (array 16 bytes, MSB first)">addr</a>[0] == 192)            &amp;&amp;</div>
<div class="line">      (addr-&gt;<a class="code hl_variable" href="group__network__structs.html#a110c5dd7725b86823c9408661a3f854b" title="IPv4 or IPv6 address (array 16 bytes, MSB first)">addr</a>[1] == 168)            &amp;&amp;</div>
<div class="line">      (addr-&gt;<a class="code hl_variable" href="group__network__structs.html#a110c5dd7725b86823c9408661a3f854b" title="IPv4 or IPv6 address (array 16 bytes, MSB first)">addr</a>[2] == 0  )            &amp;&amp;</div>
<div class="line">      (addr-&gt;<a class="code hl_variable" href="group__network__structs.html#a110c5dd7725b86823c9408661a3f854b" title="IPv4 or IPv6 address (array 16 bytes, MSB first)">addr</a>[3] == 1  )) {</div>
<div class="line">    <span class="comment">// Deny authentication from local smtp server</span></div>
<div class="line">    <span class="keywordflow">return</span> (<span class="keyword">false</span>);</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">return</span> (<span class="keyword">true</span>);</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
</div>
<a id="ga5240c89a181c1ddb07bbe888a6a8657f" name="ga5240c89a181c1ddb07bbe888a6a8657f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5240c89a181c1ddb07bbe888a6a8657f">&#9670;&#160;</a></span>netSMTPc_Notify()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void netSMTPc_Notify </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__netSMTPc__Enums.html#ga965bf429576f6444eda8960b9b53eb40">netSMTPc_Event</a></td>          <td class="paramname"><span class="paramname"><em>event</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel extern">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Notify the user application when SMTP client operation ends. [<a class="el" href="group__function__categories.html#user-provided">user-provided</a>]. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">event</td><td>SMTP client notification event as specified in <a class="el" href="group__netSMTPc__Enums.html#ga965bf429576f6444eda8960b9b53eb40">netSMTPc_Event</a>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Network library calls this function to inform the user about events.</dd></dl>
<p>The callback function <b>netSMTPc_Notify</b> is called automatically when a SMTP event occurred and notifies the user application when the SMTP client operation ends.</p>
<p>The argument <em class="arg">event</em> is an SMTP client signal as defined in <a class="el" href="group__netSMTPc__Enums.html#ga965bf429576f6444eda8960b9b53eb40">netSMTPc_Event</a>.</p>
<p>The function accepts one of the following SMTP events: </p><table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Event   </th><th class="markdownTableHeadNone">Description    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><span class="XML-Token">netSMTPc_EventSuccess</span>   </td><td class="markdownTableBodyNone">The email has been sent successfully.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><span class="XML-Token">netSMTPc_EventTimeout</span>   </td><td class="markdownTableBodyNone">SMTP Server response has timed out, and hence the SMTP client has aborted the operation. The email has not been sent.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><span class="XML-Token">netSMTPc_EventAuthenticationFailed</span>   </td><td class="markdownTableBodyNone">User authentication on SMTP Server failed. The email has not been sent.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><span class="XML-Token">netSMTPc_EventError</span>   </td><td class="markdownTableBodyNone">Protocol error occurred while sending email. The email has not been sent.   </td></tr>
</table>
<p><b>Code</b> <b>Example</b> </p>
<p>The following example is available in the user code template file <b>SMTP_Client_UIF.c</b>. Customize it to the application's needs.</p>
<div class="fragment"><div class="line"><span class="comment">// Notify the user application when SMTP client operation ends.</span></div>
<div class="line"><span class="keywordtype">void</span> <a class="code hl_function" href="#ga5240c89a181c1ddb07bbe888a6a8657f" title="Notify the user application when SMTP client operation ends. [user-provided].">netSMTPc_Notify</a> (<a class="code hl_enumeration" href="group__netSMTPc__Enums.html#ga965bf429576f6444eda8960b9b53eb40" title="SMTP Client Events.">netSMTPc_Event</a> event) {</div>
<div class="line">  <span class="keywordflow">switch</span> (event) {</div>
<div class="line">    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="rl__net_8h.html#ga965bf429576f6444eda8960b9b53eb40a5476e29a153bf94eb4807fcfda87af80" title="Email successfully sent.">netSMTPc_EventSuccess</a>:</div>
<div class="line">      <span class="comment">// Email successfully sent</span></div>
<div class="line">      <span class="keywordflow">break</span>;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="rl__net_8h.html#ga965bf429576f6444eda8960b9b53eb40a54afe4e08b95fb540d7898964dc13ca3" title="Timeout sending email.">netSMTPc_EventTimeout</a>:</div>
<div class="line">      <span class="comment">// Timeout sending email</span></div>
<div class="line">      <span class="keywordflow">break</span>;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="rl__net_8h.html#ga965bf429576f6444eda8960b9b53eb40aa1b68ee150fe013abb1f483324a1369a" title="Authentication failed, username/password invalid.">netSMTPc_EventAuthenticationFailed</a>:</div>
<div class="line">      <span class="comment">// User authentication failed</span></div>
<div class="line">      <span class="keywordflow">break</span>;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="rl__net_8h.html#ga965bf429576f6444eda8960b9b53eb40a1d1a40097aac39d07e6be009b1865205" title="Error when sending email.">netSMTPc_EventError</a>:</div>
<div class="line">      <span class="comment">// Error when sending email</span></div>
<div class="line">      <span class="keywordflow">break</span>;</div>
<div class="line">  }</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
</div>
<a id="ga9f299f586e428d9a005c1ca9668fd7b3" name="ga9f299f586e428d9a005c1ca9668fd7b3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9f299f586e428d9a005c1ca9668fd7b3">&#9670;&#160;</a></span>netSMTPc_Process()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t netSMTPc_Process </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__netSMTPc__Enums.html#ga3fdc214108a5b06efd6df79a00c1015b">netSMTPc_Request</a></td>          <td class="paramname"><span class="paramname"><em>request</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>buf</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t</td>          <td class="paramname"><span class="paramname"><em>buf_len</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *</td>          <td class="paramname"><span class="paramname"><em>pvar</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel extern">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Request parameters for SMTP client session. [<a class="el" href="group__function__categories.html#user-provided">user-provided</a>]. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">request</td><td>request code. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">buf</td><td>output buffer to write the data to. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">buf_len</td><td>length of the output buffer in bytes. </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">pvar</td><td>pointer to a session's local buffer of 4 bytes.<ul>
<li>1st call = cleared to 0.</li>
<li>2nd call = not altered by the system.</li>
<li>3rd call = not altered by the system, etc. </li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>number of bytes written to output buffer.<ul>
<li>return len | (1u&lt;&lt;31) = repeat flag, the system calls this function again when <em class="arg">request</em> is <a class="el" href="rl__net_8h.html#ga3fdc214108a5b06efd6df79a00c1015bacea75d59b87899dfc002c9dbde9b2d5f">netSMTPc_RequestBody</a>.</li>
</ul>
</dd></dl>
<p>The callback function <b>netSMTPc_Process</b> provides additional parameters for the SMTP client session such as the credentials to login to the SMTP server, email address of the sender and recipient, etc. The SMTP client calls this function several times to complete sending an email.</p>
<p>The argument <em class="arg">request</em> is an SMTP client signal: </p><table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Request Name   </th><th class="markdownTableHeadNone">Description    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><span class="XML-Token">netSMTPc_RequestUsername</span>   </td><td class="markdownTableBodyNone">Username to login to SMTP server    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><span class="XML-Token">netSMTPc_RequestPassword</span>   </td><td class="markdownTableBodyNone">Password to login to SMTP server    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><span class="XML-Token">netSMTPc_RequestSender</span>   </td><td class="markdownTableBodyNone">Email address of the sender    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><span class="XML-Token">netSMTPc_RequestRecipient</span>   </td><td class="markdownTableBodyNone">Email address of the recipient    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><span class="XML-Token">netSMTPc_RequestSubject</span>   </td><td class="markdownTableBodyNone">Subject of email    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><span class="XML-Token">netSMTPc_RequestBody</span>   </td><td class="markdownTableBodyNone">Email body in plain ASCII format   </td></tr>
</table>
<p>The argument <em class="arg">buf</em> points to the output buffer where the function writes the requested data.</p>
<p>The argument <em class="arg">buf_len</em> specifies the length of the output buffer in bytes.</p>
<p>The argument <em class="arg">pvar</em> points to the local session buffer with a length of 4 bytes. The SMTP Client clears the data in the <em class="arg">pvar</em> pointer to <span class="XML-Token">0</span> before the function is called for the first time.</p>
<p><b>Code</b> <b>Example</b> </p>
<p>The following example is available in the user code template file <b>SMTP_Client_UIF.c</b>. Customize it to the application's needs.</p>
<div class="fragment"><div class="line"><span class="comment">// Request parameters for SMTP client session.</span></div>
<div class="line">uint32_t <a class="code hl_function" href="#ga9f299f586e428d9a005c1ca9668fd7b3" title="Request parameters for SMTP client session. [user-provided].">netSMTPc_Process</a> (<a class="code hl_enumeration" href="group__netSMTPc__Enums.html#ga3fdc214108a5b06efd6df79a00c1015b" title="SMTP Client Request.">netSMTPc_Request</a> request, <span class="keywordtype">char</span> *buf, uint32_t buf_len, uint32_t *pvar) {</div>
<div class="line">  uint32_t len = 0;</div>
<div class="line"> </div>
<div class="line">  <span class="keywordflow">switch</span> (request) {</div>
<div class="line">    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="rl__net_8h.html#ga3fdc214108a5b06efd6df79a00c1015ba4e13bc7d82a353f9c462c4216aaff090" title="Username to login to SMTP server.">netSMTPc_RequestUsername</a>:</div>
<div class="line">      <span class="comment">// Username to login to SMTP server</span></div>
<div class="line">      len = sprintf (buf, <span class="stringliteral">&quot;guest&quot;</span>);</div>
<div class="line">      <span class="keywordflow">break</span>;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="rl__net_8h.html#ga3fdc214108a5b06efd6df79a00c1015ba25dcf36a51b0fd8e566571a2a08024af" title="Password to login to SMTP server.">netSMTPc_RequestPassword</a>:</div>
<div class="line">      <span class="comment">// Password to login to SMTP server</span></div>
<div class="line">      len = sprintf (buf, <span class="stringliteral">&quot;guest&quot;</span>);</div>
<div class="line">      <span class="keywordflow">break</span>;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="rl__net_8h.html#ga3fdc214108a5b06efd6df79a00c1015bac2fa7201a253e3972bea67faf12e98e5" title="Email address of the sender.">netSMTPc_RequestSender</a>:</div>
<div class="line">      <span class="comment">// Email address of the sender</span></div>
<div class="line">      len = sprintf (buf, <span class="stringliteral">&quot;me@domain.com&quot;</span>);</div>
<div class="line">      <span class="keywordflow">break</span>;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="rl__net_8h.html#ga3fdc214108a5b06efd6df79a00c1015ba2b72a12df3401488c3de6f11958ed5f0" title="Email address of the recipient.">netSMTPc_RequestRecipient</a>:</div>
<div class="line">      <span class="comment">// Email address of the recipient</span></div>
<div class="line">      len = sprintf (buf, <span class="stringliteral">&quot;you@domain.com&quot;</span>);</div>
<div class="line">      <span class="keywordflow">break</span>;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="rl__net_8h.html#ga3fdc214108a5b06efd6df79a00c1015baf4248861e4204a66971e0b5c40d01000" title="Subject of email.">netSMTPc_RequestSubject</a>:</div>
<div class="line">      <span class="comment">// Subject of email</span></div>
<div class="line">      len = sprintf (buf, <span class="stringliteral">&quot;Hello&quot;</span>);</div>
<div class="line">      <span class="keywordflow">break</span>;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="rl__net_8h.html#ga3fdc214108a5b06efd6df79a00c1015bacea75d59b87899dfc002c9dbde9b2d5f" title="Email body in plain ASCII format.">netSMTPc_RequestBody</a>:</div>
<div class="line">      <span class="comment">// Email body in plain ascii format</span></div>
<div class="line">      len = sprintf (buf, <span class="stringliteral">&quot;Hello, how are you?\r\n&quot;</span>);</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">return</span> (len);</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">
      <script type="text/javascript">
        <!--
        writeFooter.call(this);
        //-->
      </script> 
    </li>
  </ul>
</div>
</body>
</html>

<!-- HTML header for doxygen 1.9.6-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Network Component: Access and Multi-User Interface</title>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="tabs.js"></script>
<script type="text/javascript" src="footer.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="URL_keys.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<script type="text/javascript" src="darkmode_toggle.js"></script>
<link href="extra_stylesheet.css" rel="stylesheet" type="text/css"/>
<link href="extra_navtree.css" rel="stylesheet" type="text/css"/>
<link href="extra_search.css" rel="stylesheet" type="text/css"/>
<link href="extra_tabs.css" rel="stylesheet" type="text/css"/>
<link href="version.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../version.js"></script>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 55px;">
  <td id="projectlogo" style="padding: 1.5em;"><img alt="Logo" src="armkeil_white_h.png"/></td>
  <td style="padding-left: 1em; padding-bottom: 1em;padding-top: 1em;">
   <div id="projectname">Network Component
   &#160;<span id="projectnumber"><script type="text/javascript">
     <!--
     writeHeader.call(this);
     writeVersionDropdown.call(this, "Network Component");
     //-->
    </script>
   </span>
   </div>
   <div id="projectbrief">MDK Middleware for IPv4 and IPv6 Networking</div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
  <!--END !PROJECT_NAME-->
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<div id="CMSISnav" class="tabs1">
  <ul class="tablist">
    <script type="text/javascript">
      writeComponentTabs.call(this);
    </script>
  </ul>
</div>
<script type="text/javascript">
  writeSubComponentTabs.call(this);
</script>
<!-- Generated by Doxygen 1.9.6 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('group__telnet__access__filter__mui.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">Access and Multi-User Interface<div class="ingroups"><a class="el" href="group__netServices.html">Services</a> &raquo; <a class="el" href="group__netTELNET__Func.html">Telnet Server</a></div></div></div>
</div><!--header-->
<div class="contents">

<p>Functions to filter access to the Telnet server and to work with user accounts.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga3ec99f8332f7734909fb66808daca8f4"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__telnet__access__filter__mui.html#ga3ec99f8332f7734909fb66808daca8f4">netTELNETs_AcceptClient</a> (const <a class="el" href="group__network__structs.html#structNET__ADDR">NET_ADDR</a> *addr)</td></tr>
<tr class="memdesc:ga3ec99f8332f7734909fb66808daca8f4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Accept or deny a connection from a remote Telnet client. [<a class="el" href="group__function__categories.html#user-provided">user-provided</a>].  <br /></td></tr>
<tr class="separator:ga3ec99f8332f7734909fb66808daca8f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga73d0d9e1ca34deaef1a4d0ae60e4f899"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__telnet__access__filter__mui.html#ga73d0d9e1ca34deaef1a4d0ae60e4f899">netTELNETs_CheckUsername</a> (const char *username)</td></tr>
<tr class="memdesc:ga73d0d9e1ca34deaef1a4d0ae60e4f899"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if an user account exist in the user database. [<a class="el" href="group__function__categories.html#user-provided">user-provided</a>].  <br /></td></tr>
<tr class="separator:ga73d0d9e1ca34deaef1a4d0ae60e4f899"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2ce267a4349c5723e02eee6e22149bb8"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__telnet__access__filter__mui.html#ga2ce267a4349c5723e02eee6e22149bb8">netTELNETs_CheckPassword</a> (uint8_t user_id, const char *password)</td></tr>
<tr class="memdesc:ga2ce267a4349c5723e02eee6e22149bb8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check user account password in the user database. [<a class="el" href="group__function__categories.html#user-provided">user-provided</a>].  <br /></td></tr>
<tr class="separator:ga2ce267a4349c5723e02eee6e22149bb8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6084b683467f7703e1d202243d45f13a"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__telnet__access__filter__mui.html#ga6084b683467f7703e1d202243d45f13a">netTELNETs_GetUserId</a> (void)</td></tr>
<tr class="memdesc:ga6084b683467f7703e1d202243d45f13a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve the user identification number. [<a class="el" href="group__function__categories.html#thread-safe">thread-safe</a>].  <br /></td></tr>
<tr class="separator:ga6084b683467f7703e1d202243d45f13a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Description</h2>
<p>Functions to filter access to the Telnet server and to work with user accounts. </p>
<p>To filter the access to the Telnet server based on the IP address and port of the connecting client, the optional function <a class="el" href="group__telnet__access__filter__mui.html#ga3ec99f8332f7734909fb66808daca8f4">netTELNETs_AcceptClient</a> is used. It is part of the template file <b>Telnet_Server_Access.c</b>. If this template file is missing in the ÂµVision project, the function will not be available and thus connections from all remote clients will be accepted. You need to adapt the function to the application's needs by specifying the rules for allowed/blocked clients. The Telnet server will use the information in this function to filter the access.</p>
<p>The multi-user login allows you to create different profiles for different users or groups of users. The profiles define the access rights to different commands executed on the Telnet server. The users which are allowed to access the Telnet server are stored in an user database.</p>
<p>If you want to use multi-user authentication, you need to check the <b>Enable User Authentication</b> in the <a class="el" href="group__telnet__server__conf.html">configuration file</a> (<b>Net_Config_Telnet_Server.h</b>). The default account is a system administrator account, which has no restrictions. All other accounts are created in a separate <b>Telnet_Server_Multiuser.c</b> module.</p>
<p>To enable a list of users, you need to adapt the function <a class="el" href="group__telnet__access__filter__mui.html#ga73d0d9e1ca34deaef1a4d0ae60e4f899">netTELNETs_CheckUsername</a>, which checks if the user account exists for the provided credentials, and the function <a class="el" href="group__telnet__access__filter__mui.html#ga2ce267a4349c5723e02eee6e22149bb8">netTELNETs_CheckPassword</a>, which checks if the password fits to the user account for the provided credentials.</p>
<p>The following function is included in the Network Component library rl_net.h:</p><ul>
<li><a class="el" href="group__telnet__access__filter__mui.html#ga6084b683467f7703e1d202243d45f13a">netTELNETs_GetUserId</a> - retrieves the user identification number for the user, which is trying to execute a command.</li>
</ul>
<dl class="section note"><dt>Note</dt><dd><ul>
<li>To add the template files to your project, simply right-click on the Source group, select <b>Add New Item to Group</b>, then click on <b>User Code Template</b> and scroll in the template files list until you find the required template.</li>
<li>If the <b>Telnet_Server_Multiuser.c</b> is not added to the project, but authentication is enabled, the Telnet server runs in single user authentication mode. </li>
</ul>
</dd></dl>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga3ec99f8332f7734909fb66808daca8f4" name="ga3ec99f8332f7734909fb66808daca8f4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3ec99f8332f7734909fb66808daca8f4">&#9670;&#160;</a></span>netTELNETs_AcceptClient()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool netTELNETs_AcceptClient </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="group__network__structs.html#structNET__ADDR">NET_ADDR</a> *&#160;</td>
          <td class="paramname"><em>addr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Accept or deny a connection from a remote Telnet client. [<a class="el" href="group__function__categories.html#user-provided">user-provided</a>]. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">addr</td><td>structure containing IP address and port of remote Telnet client. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>true = Connection from the remote client is allowed.</li>
<li>false = Connection is denied.</li>
</ul>
</dd></dl>
<p>The function <b>netTELNETs_AcceptClient</b> checks if a connection from the remote client is allowed. This allows remote client filtering. You can selectively decide which clients are allowed to connect to the Telnet server.</p>
<p>The argument <em>addr</em> points to a buffer containing the IP address and port of the remote client.</p>
<dl class="section note"><dt>Note</dt><dd>This function is optional. If missing, the library default function is used which accepts all remote clients.</dd></dl>
<p><b>Code</b> <b>Example</b> </p>
<p>The following example is available in the user code template file <b>Telnet_Server_Access.c</b>. Customize it to the application's needs.</p>
<div class="fragment"><div class="line"><span class="keywordtype">bool</span> <a class="code hl_function" href="group__telnet__access__filter__mui.html#ga3ec99f8332f7734909fb66808daca8f4" title="Accept or deny a connection from a remote Telnet client. [user-provided].">netTELNETs_AcceptClient</a> (<span class="keyword">const</span> <a class="code hl_struct" href="group__network__structs.html#structNET__ADDR" title="Network Address IPv4/IPv6 capable.">NET_ADDR</a> *addr) {</div>
<div class="line">  <span class="keywordflow">if</span> (addr-&gt;<a class="code hl_variable" href="group__network__structs.html#a0444de3555073772ebd025a838b9a911" title="IP address type: NET_ADDR_IP4 or NET_ADDR_IP6.">addr_type</a> == <a class="code hl_define" href="rl__net_8h.html#ab5ae61a54f36e338a8dc06cee088d89f" title="IPv4 Address.">NET_ADDR_IP4</a>) {</div>
<div class="line">    <span class="comment">// IPv4 client</span></div>
<div class="line">    <span class="keywordflow">if</span> (addr-&gt;<a class="code hl_variable" href="group__network__structs.html#a110c5dd7725b86823c9408661a3f854b" title="IPv4 or IPv6 address (array 16 bytes, MSB first)">addr</a>[0] == 192  &amp;&amp;</div>
<div class="line">        addr-&gt;<a class="code hl_variable" href="group__network__structs.html#a110c5dd7725b86823c9408661a3f854b" title="IPv4 or IPv6 address (array 16 bytes, MSB first)">addr</a>[1] == 168  &amp;&amp;</div>
<div class="line">        addr-&gt;<a class="code hl_variable" href="group__network__structs.html#a110c5dd7725b86823c9408661a3f854b" title="IPv4 or IPv6 address (array 16 bytes, MSB first)">addr</a>[2] == 0    &amp;&amp;</div>
<div class="line">        addr-&gt;<a class="code hl_variable" href="group__network__structs.html#a110c5dd7725b86823c9408661a3f854b" title="IPv4 or IPv6 address (array 16 bytes, MSB first)">addr</a>[3] == 1) {</div>
<div class="line">      <span class="comment">// Accept connection from client at 192.168.0.1</span></div>
<div class="line">      <span class="keywordflow">return</span> (<span class="keyword">true</span>);</div>
<div class="line">    }</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">else</span> {</div>
<div class="line">    <span class="comment">// IPv6 client</span></div>
<div class="line">    <span class="keyword">const</span> uint8_t ip6_addr[<a class="code hl_define" href="rl__net_8h.html#afc2dd6f6b5b737eae868a756d38ed846" title="IPv6 Address Length in bytes.">NET_ADDR_IP6_LEN</a>] = { </div>
<div class="line">                     0xfe, 0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,</div>
<div class="line">                     0x1c, 0x30, 0x6c, 0xff, 0xfe, 0xa2, 0x45, 0x5e };</div>
<div class="line">    <span class="keywordflow">if</span> (memcmp (addr-&gt;<a class="code hl_variable" href="group__network__structs.html#a110c5dd7725b86823c9408661a3f854b" title="IPv4 or IPv6 address (array 16 bytes, MSB first)">addr</a>, ip6_addr, <a class="code hl_define" href="rl__net_8h.html#afc2dd6f6b5b737eae868a756d38ed846" title="IPv6 Address Length in bytes.">NET_ADDR_IP6_LEN</a>) == 0) {</div>
<div class="line">      <span class="comment">// Accept connection from client at [fe80::1c30:6cff:fea2:455e]</span></div>
<div class="line">      <span class="keywordflow">return</span> (<span class="keyword">true</span>);</div>
<div class="line">    }</div>
<div class="line">  }</div>
<div class="line">  <span class="comment">// Deny connection.</span></div>
<div class="line">  <span class="keywordflow">return</span> (<span class="keyword">false</span>);</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
</div>
<a id="ga2ce267a4349c5723e02eee6e22149bb8" name="ga2ce267a4349c5723e02eee6e22149bb8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2ce267a4349c5723e02eee6e22149bb8">&#9670;&#160;</a></span>netTELNETs_CheckPassword()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool netTELNETs_CheckPassword </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>user_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>password</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check user account password in the user database. [<a class="el" href="group__function__categories.html#user-provided">user-provided</a>]. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">user_id</td><td>user identification number. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">password</td><td>pointer to password. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>true = password accepted.</li>
<li>false = invalid password.</li>
</ul>
</dd></dl>
<p>The function <b>netTELNETs_CheckPassword</b> authenticates the password for a specified user ID on the server.</p>
<p>The argument <em>user_id</em> is the identification number of a user.</p>
<p>The argument <em>password</em> points to a <span class="XML-Token">null</span>-terminated string representing the password that gets checked.</p>
<dl class="section note"><dt>Note</dt><dd>This function is optional and only needed for multi-user authentication.</dd></dl>
<p><b>Code</b> <b>Example</b> </p>
<p>The following example is available in the user code template file <b>Telnet_Server_Multiuser.c</b>. Customize it to the application's needs.</p>
<div class="fragment"><div class="line"><span class="keywordtype">bool</span> <a class="code hl_function" href="group__telnet__access__filter__mui.html#ga2ce267a4349c5723e02eee6e22149bb8" title="Check user account password in the user database. [user-provided].">netTELNETs_CheckPassword</a> (uint8_t user_id, <span class="keyword">const</span> <span class="keywordtype">char</span> *password) {</div>
<div class="line">  <span class="keywordflow">if</span> (user_id == 1) {</div>
<div class="line">    <span class="keywordflow">if</span> (strcmp (password, <span class="stringliteral">&quot;guest&quot;</span>) == 0) {</div>
<div class="line">      <span class="comment">// Password is correct</span></div>
<div class="line">      <span class="keywordflow">return</span> (<span class="keyword">true</span>);</div>
<div class="line">    }</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">return</span> (<span class="keyword">false</span>);</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
</div>
<a id="ga73d0d9e1ca34deaef1a4d0ae60e4f899" name="ga73d0d9e1ca34deaef1a4d0ae60e4f899"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga73d0d9e1ca34deaef1a4d0ae60e4f899">&#9670;&#160;</a></span>netTELNETs_CheckUsername()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t netTELNETs_CheckUsername </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>username</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if an user account exist in the user database. [<a class="el" href="group__function__categories.html#user-provided">user-provided</a>]. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">username</td><td>pointer to username. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>status information:<ul>
<li>User identification number.</li>
<li>0 if the user is not existing.</li>
</ul>
</dd></dl>
<p>The function <b>netTELNETs_CheckUsername</b> authenticates the user name and returns the user identification number. A value of <span class="XML-Token">0</span> is returned if the user does not exist.</p>
<p>The argument <em>username</em> points to a <span class="XML-Token">null</span>-terminated string representing the user name that must be checked.</p>
<dl class="section note"><dt>Note</dt><dd>This function is optional and only needed for multi-user authentication.</dd></dl>
<p><b>Code</b> <b>Example</b> </p>
<p>The following example is available in the user code template file <b>Telnet_Server_Multiuser.c</b>. Customize it to the application's needs.</p>
<div class="fragment"><div class="line">uint8_t <a class="code hl_function" href="group__telnet__access__filter__mui.html#ga73d0d9e1ca34deaef1a4d0ae60e4f899" title="Check if an user account exist in the user database. [user-provided].">netTELNETs_CheckUsername</a> (<span class="keyword">const</span> <span class="keywordtype">char</span> *username) {</div>
<div class="line">  <span class="keywordflow">if</span> (strcmp (username, <span class="stringliteral">&quot;guest&quot;</span>) == 0) {</div>
<div class="line">    <span class="comment">// Username is correct, return user_id</span></div>
<div class="line">    <span class="keywordflow">return</span> (1);</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">return</span> (0);</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
</div>
<a id="ga6084b683467f7703e1d202243d45f13a" name="ga6084b683467f7703e1d202243d45f13a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6084b683467f7703e1d202243d45f13a">&#9670;&#160;</a></span>netTELNETs_GetUserId()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t netTELNETs_GetUserId </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieve the user identification number. [<a class="el" href="group__function__categories.html#thread-safe">thread-safe</a>]. </p>
<dl class="section return"><dt>Returns</dt><dd>user identification number (0 = system administrator).</dd></dl>
<p>The function <b>netTELNETs_GetUserId</b> retrieves the user identification number when the Telnet console is protected with user authentication. It can be used to disable certain commands for unprivileged users.</p>
<dl class="section note"><dt>Note</dt><dd>This function returns a value of 0 for the system administrator account.</dd></dl>
<p><b>Code</b> <b>Example</b> </p><div class="fragment"><div class="line">uint32_t <a class="code hl_function" href="group__telnet__user__notification.html#gae28cb4a796ee5e59ad5e32dccc969c76" title="Process and execute a command requested by the Telnet client. [user-provided].">netTELNETs_ProcessCommand</a> (<span class="keyword">const</span> <span class="keywordtype">char</span> *cmd, <span class="keywordtype">char</span> *buf, uint32_t buf_len, uint32_t *pvar) {</div>
<div class="line">  uint32_t len = 0;</div>
<div class="line">  ..</div>
<div class="line">  <span class="keywordflow">if</span> (<a class="code hl_function" href="group__telnet__user__api.html#ga6cd80391e20e12ed698f01e8a77f2e0f" title="Check command string for a command. [thread-safe].">netTELNETs_CheckCommand</a> (cmd, <span class="stringliteral">&quot;PASSW&quot;</span>) == <span class="keyword">true</span>) { </div>
<div class="line">    <span class="comment">// Change the system password</span></div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code hl_function" href="group__telnet__access__filter__mui.html#ga6084b683467f7703e1d202243d45f13a" title="Retrieve the user identification number. [thread-safe].">netTELNETs_GetUserId</a> () == 0) &amp;&amp; (strlen (cmd) &gt;= 7)) {</div>
<div class="line">      <span class="comment">// Only administrator can change the password</span></div>
<div class="line">      <a class="code hl_function" href="group__telnet__user__api.html#ga9a7a58d47b923e82e2fbdc54759eded5" title="Reset password of the built-in user account. [thread-safe].">netTELNETs_SetPassword</a> (&amp;cmd[7]);</div>
<div class="line">      len = sprintf (buf,<span class="stringliteral">&quot;Password changed&quot;</span>);</div>
<div class="line">      <span class="keywordflow">return</span> (len);</div>
<div class="line">    }</div>
<div class="line">  }</div>
<div class="line">  ..</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">
      <script type="text/javascript">
        <!--
        writeFooter.call(this);
        //-->
      </script> 
    </li>
  </ul>
</div>
</body>
</html>

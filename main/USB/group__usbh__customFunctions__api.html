<!-- HTML header for doxygen 1.9.6-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>USB Component: User API</title>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="tabs.js"></script>
<script type="text/javascript" src="footer.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="URL_keys.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<script type="text/javascript" src="darkmode_toggle.js"></script>
<link href="extra_stylesheet.css" rel="stylesheet" type="text/css"/>
<link href="extra_navtree.css" rel="stylesheet" type="text/css"/>
<link href="extra_search.css" rel="stylesheet" type="text/css"/>
<link href="extra_tabs.css" rel="stylesheet" type="text/css"/>
<link href="version.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../version.js"></script>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 55px;">
  <td id="projectlogo" style="padding: 1.5em;"><img alt="Logo" src="armkeil_white_h.png"/></td>
  <td style="padding-left: 1em; padding-bottom: 1em;padding-top: 1em;">
   <div id="projectname">USB Component
   &#160;<span id="projectnumber"><script type="text/javascript">
     <!--
     writeHeader.call(this);
     writeVersionDropdown.call(this, "USB Component");
     //-->
    </script>
   </span>
   </div>
   <div id="projectbrief">MDK Middleware for USB Device and Host Communication</div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
  <!--END !PROJECT_NAME-->
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<div id="CMSISnav" class="tabs1">
  <ul class="tablist">
    <script type="text/javascript">
      writeComponentTabs.call(this);
    </script>
  </ul>
</div>
<script type="text/javascript">
  writeSubComponentTabs.call(this);
</script>
<!-- Generated by Doxygen 1.9.6 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('group__usbh__customFunctions__api.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">User API<div class="ingroups"><a class="el" href="group__usbh.html">USB Host</a> &raquo; <a class="el" href="group__usbh__DevClassFunctions.html">Device Class</a> &raquo; <a class="el" href="group__usbh__customFunctions.html">Custom Class</a></div></div></div>
</div><!--header-->
<div class="contents">

<p>User API reference of the Custom Class.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gae0f3f86f8a049c663b84fda06d5668cd"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__usbh__customFunctions__api.html#gae0f3f86f8a049c663b84fda06d5668cd">USBH_CustomClass_GetDevice</a> (uint8_t instance)</td></tr>
<tr class="memdesc:gae0f3f86f8a049c663b84fda06d5668cd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get Device instance of Custom Class Device.  <br /></td></tr>
<tr class="separator:gae0f3f86f8a049c663b84fda06d5668cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6cc444113f6641e70d5276ffdea0b842"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__status__error__codes__usb.html#ga8196235c97e113f17993c7b4baff5f8f">usbStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__usbh__customFunctions__api.html#ga6cc444113f6641e70d5276ffdea0b842">USBH_CustomClass_GetStatus</a> (uint8_t instance)</td></tr>
<tr class="memdesc:ga6cc444113f6641e70d5276ffdea0b842"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get status of Custom Class Device.  <br /></td></tr>
<tr class="separator:ga6cc444113f6641e70d5276ffdea0b842"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga385a67ca676ca94efcf078b637fdf49c"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__usbh__customFunctions__api.html#ga385a67ca676ca94efcf078b637fdf49c">USBH_CustomClass_Configure</a> (uint8_t device, const <a class="el" href="group__usbh__data__types.html#structUSB__DEVICE__DESCRIPTOR">USB_DEVICE_DESCRIPTOR</a> *ptr_dev_desc, const <a class="el" href="group__usbh__data__types.html#structUSB__CONFIGURATION__DESCRIPTOR">USB_CONFIGURATION_DESCRIPTOR</a> *ptr_cfg_desc)</td></tr>
<tr class="memdesc:ga385a67ca676ca94efcf078b637fdf49c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callback function called when custom class device is connected and needs to configure resources used by custom class device instance.  <br /></td></tr>
<tr class="separator:ga385a67ca676ca94efcf078b637fdf49c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga29c81dab6422324f2d94282bdcf8b43d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__status__error__codes__usb.html#ga8196235c97e113f17993c7b4baff5f8f">usbStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__usbh__customFunctions__api.html#ga29c81dab6422324f2d94282bdcf8b43d">USBH_CustomClass_Unconfigure</a> (uint8_t instance)</td></tr>
<tr class="memdesc:ga29c81dab6422324f2d94282bdcf8b43d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callback function called when custom class device is disconnected and needs to de-configure resources used by custom class device instance.  <br /></td></tr>
<tr class="separator:ga29c81dab6422324f2d94282bdcf8b43d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa31a612e0656e87ea050ad905b8ebe06"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__status__error__codes__usb.html#ga8196235c97e113f17993c7b4baff5f8f">usbStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__usbh__customFunctions__api.html#gaa31a612e0656e87ea050ad905b8ebe06">USBH_CustomClass_Initialize</a> (uint8_t instance)</td></tr>
<tr class="memdesc:gaa31a612e0656e87ea050ad905b8ebe06"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callback function called when custom class device is connected and needs to initialize custom class device instance.  <br /></td></tr>
<tr class="separator:gaa31a612e0656e87ea050ad905b8ebe06"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga015780dcf593743470bb79f7ec8f18bd"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__status__error__codes__usb.html#ga8196235c97e113f17993c7b4baff5f8f">usbStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__usbh__customFunctions__api.html#ga015780dcf593743470bb79f7ec8f18bd">USBH_CustomClass_Uninitialize</a> (uint8_t instance)</td></tr>
<tr class="memdesc:ga015780dcf593743470bb79f7ec8f18bd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callback function called when custom class device is disconnected and needs to de-initialize custom class device instance.  <br /></td></tr>
<tr class="separator:ga015780dcf593743470bb79f7ec8f18bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae9f6b49b88dca85534d8addcc7fbf049"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__usbh__data__types.html#ga98c1a0cd2cf7e047d714fd23dfba5e53">USBH_PIPE_HANDLE</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__usbh__customFunctions__api.html#gae9f6b49b88dca85534d8addcc7fbf049">USBH_PipeCreate</a> (uint8_t device, uint8_t ep_addr, uint8_t ep_type, uint16_t ep_max_packet_size, uint8_t ep_interval)</td></tr>
<tr class="memdesc:gae9f6b49b88dca85534d8addcc7fbf049"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create Pipe.  <br /></td></tr>
<tr class="separator:gae9f6b49b88dca85534d8addcc7fbf049"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga12cd3441f6ff8663044a64d151e51aab"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__status__error__codes__usb.html#ga8196235c97e113f17993c7b4baff5f8f">usbStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__usbh__customFunctions__api.html#ga12cd3441f6ff8663044a64d151e51aab">USBH_PipeRegisterCallback</a> (<a class="el" href="group__usbh__data__types.html#ga98c1a0cd2cf7e047d714fd23dfba5e53">USBH_PIPE_HANDLE</a> pipe_hndl, <a class="el" href="group__usbh__data__types.html#ga975e4cbe15686153438f14d54134c0f9">USBH_PipeEvent_t</a> cb_pipe_event)</td></tr>
<tr class="memdesc:ga12cd3441f6ff8663044a64d151e51aab"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register a callback for Pipe events.  <br /></td></tr>
<tr class="separator:ga12cd3441f6ff8663044a64d151e51aab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3bb7973ffaf495c82c11921954e0eb6b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__status__error__codes__usb.html#ga8196235c97e113f17993c7b4baff5f8f">usbStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__usbh__customFunctions__api.html#ga3bb7973ffaf495c82c11921954e0eb6b">USBH_PipeUpdate</a> (<a class="el" href="group__usbh__data__types.html#ga98c1a0cd2cf7e047d714fd23dfba5e53">USBH_PIPE_HANDLE</a> pipe_hndl)</td></tr>
<tr class="memdesc:ga3bb7973ffaf495c82c11921954e0eb6b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update Pipe.  <br /></td></tr>
<tr class="separator:ga3bb7973ffaf495c82c11921954e0eb6b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaeda9f9604ab830e01372bc922d55047c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__status__error__codes__usb.html#ga8196235c97e113f17993c7b4baff5f8f">usbStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__usbh__customFunctions__api.html#gaeda9f9604ab830e01372bc922d55047c">USBH_PipeDelete</a> (<a class="el" href="group__usbh__data__types.html#ga98c1a0cd2cf7e047d714fd23dfba5e53">USBH_PIPE_HANDLE</a> pipe_hndl)</td></tr>
<tr class="memdesc:gaeda9f9604ab830e01372bc922d55047c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Delete Pipe.  <br /></td></tr>
<tr class="separator:gaeda9f9604ab830e01372bc922d55047c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa029b616b58bc2bd20d30ddb1221f72f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__status__error__codes__usb.html#ga8196235c97e113f17993c7b4baff5f8f">usbStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__usbh__customFunctions__api.html#gaa029b616b58bc2bd20d30ddb1221f72f">USBH_PipeReset</a> (<a class="el" href="group__usbh__data__types.html#ga98c1a0cd2cf7e047d714fd23dfba5e53">USBH_PIPE_HANDLE</a> pipe_hndl)</td></tr>
<tr class="memdesc:gaa029b616b58bc2bd20d30ddb1221f72f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reset Pipe (reset data toggle)  <br /></td></tr>
<tr class="separator:gaa029b616b58bc2bd20d30ddb1221f72f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac1ce81d11d0559993e4e21e09b868afb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__status__error__codes__usb.html#ga8196235c97e113f17993c7b4baff5f8f">usbStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__usbh__customFunctions__api.html#gac1ce81d11d0559993e4e21e09b868afb">USBH_PipeReceive</a> (<a class="el" href="group__usbh__data__types.html#ga98c1a0cd2cf7e047d714fd23dfba5e53">USBH_PIPE_HANDLE</a> pipe_hndl, uint8_t *buf, uint32_t len)</td></tr>
<tr class="memdesc:gac1ce81d11d0559993e4e21e09b868afb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Receive data on Pipe.  <br /></td></tr>
<tr class="separator:gac1ce81d11d0559993e4e21e09b868afb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga72ee4be76cac3022479167381f4e9edf"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__usbh__customFunctions__api.html#ga72ee4be76cac3022479167381f4e9edf">USBH_PipeReceiveGetResult</a> (<a class="el" href="group__usbh__data__types.html#ga98c1a0cd2cf7e047d714fd23dfba5e53">USBH_PIPE_HANDLE</a> pipe_hndl)</td></tr>
<tr class="memdesc:ga72ee4be76cac3022479167381f4e9edf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get result of receive data operation on Pipe.  <br /></td></tr>
<tr class="separator:ga72ee4be76cac3022479167381f4e9edf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gadba45e9c38b4fe791c3e07c602655b7c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__status__error__codes__usb.html#ga8196235c97e113f17993c7b4baff5f8f">usbStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__usbh__customFunctions__api.html#gadba45e9c38b4fe791c3e07c602655b7c">USBH_PipeSend</a> (<a class="el" href="group__usbh__data__types.html#ga98c1a0cd2cf7e047d714fd23dfba5e53">USBH_PIPE_HANDLE</a> pipe_hndl, const uint8_t *buf, uint32_t len)</td></tr>
<tr class="memdesc:gadba45e9c38b4fe791c3e07c602655b7c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send data on Pipe.  <br /></td></tr>
<tr class="separator:gadba45e9c38b4fe791c3e07c602655b7c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga666bc31ca8f10153435c8235ffe6d133"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__usbh__customFunctions__api.html#ga666bc31ca8f10153435c8235ffe6d133">USBH_PipeSendGetResult</a> (<a class="el" href="group__usbh__data__types.html#ga98c1a0cd2cf7e047d714fd23dfba5e53">USBH_PIPE_HANDLE</a> pipe_hndl)</td></tr>
<tr class="memdesc:ga666bc31ca8f10153435c8235ffe6d133"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get result of send data operation on Pipe.  <br /></td></tr>
<tr class="separator:ga666bc31ca8f10153435c8235ffe6d133"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac0da54ada429142ce65daadd49efefb8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__status__error__codes__usb.html#ga8196235c97e113f17993c7b4baff5f8f">usbStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__usbh__customFunctions__api.html#gac0da54ada429142ce65daadd49efefb8">USBH_PipeAbort</a> (<a class="el" href="group__usbh__data__types.html#ga98c1a0cd2cf7e047d714fd23dfba5e53">USBH_PIPE_HANDLE</a> pipe_hndl)</td></tr>
<tr class="memdesc:gac0da54ada429142ce65daadd49efefb8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Abort send/receive operation on Pipe.  <br /></td></tr>
<tr class="separator:gac0da54ada429142ce65daadd49efefb8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2b0c9f2e4d76ce263a95962edd13cc7c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__status__error__codes__usb.html#ga8196235c97e113f17993c7b4baff5f8f">usbStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__usbh__customFunctions__api.html#ga2b0c9f2e4d76ce263a95962edd13cc7c">USBH_ControlTransfer</a> (uint8_t device, const <a class="el" href="group__usbd__data__types.html#structUSB__SETUP__PACKET">USB_SETUP_PACKET</a> *setup_packet, uint8_t *data, uint32_t len)</td></tr>
<tr class="memdesc:ga2b0c9f2e4d76ce263a95962edd13cc7c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Do a Control Transfer on Default Pipe.  <br /></td></tr>
<tr class="separator:ga2b0c9f2e4d76ce263a95962edd13cc7c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga805a67cc134452844c0ca5551dbc5dcb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__status__error__codes__usb.html#ga8196235c97e113f17993c7b4baff5f8f">usbStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__usbh__customFunctions__api.html#ga805a67cc134452844c0ca5551dbc5dcb">USBH_DeviceRequest_GetStatus</a> (uint8_t device, uint8_t recipient, uint8_t index, uint8_t *ptr_stat_dat)</td></tr>
<tr class="memdesc:ga805a67cc134452844c0ca5551dbc5dcb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Standard Device Request on Default Pipe - GET_STATUS.  <br /></td></tr>
<tr class="separator:ga805a67cc134452844c0ca5551dbc5dcb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga40a426ea433d2f327d7faefe24b7b432"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__status__error__codes__usb.html#ga8196235c97e113f17993c7b4baff5f8f">usbStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__usbh__customFunctions__api.html#ga40a426ea433d2f327d7faefe24b7b432">USBH_DeviceRequest_ClearFeature</a> (uint8_t device, uint8_t recipient, uint8_t index, uint8_t feature_selector)</td></tr>
<tr class="memdesc:ga40a426ea433d2f327d7faefe24b7b432"><td class="mdescLeft">&#160;</td><td class="mdescRight">Standard Device Request on Default Pipe - CLEAR_FEATURE.  <br /></td></tr>
<tr class="separator:ga40a426ea433d2f327d7faefe24b7b432"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa013903f4f5f7ef9e271ab88f2931d7f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__status__error__codes__usb.html#ga8196235c97e113f17993c7b4baff5f8f">usbStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__usbh__customFunctions__api.html#gaa013903f4f5f7ef9e271ab88f2931d7f">USBH_DeviceRequest_SetFeature</a> (uint8_t device, uint8_t recipient, uint8_t index, uint8_t feature_selector)</td></tr>
<tr class="memdesc:gaa013903f4f5f7ef9e271ab88f2931d7f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Standard Device Request on Default Pipe - SET_FEATURE.  <br /></td></tr>
<tr class="separator:gaa013903f4f5f7ef9e271ab88f2931d7f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga03afd101134aa5dd17a179d5f9f1f24b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__status__error__codes__usb.html#ga8196235c97e113f17993c7b4baff5f8f">usbStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__usbh__customFunctions__api.html#ga03afd101134aa5dd17a179d5f9f1f24b">USBH_DeviceRequest_SetAddress</a> (uint8_t device, uint8_t device_address)</td></tr>
<tr class="memdesc:ga03afd101134aa5dd17a179d5f9f1f24b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Standard Device Request on Default Pipe - SET_ADDRESS.  <br /></td></tr>
<tr class="separator:ga03afd101134aa5dd17a179d5f9f1f24b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga65688e5a7593ee84204de5d43c8f187c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__status__error__codes__usb.html#ga8196235c97e113f17993c7b4baff5f8f">usbStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__usbh__customFunctions__api.html#ga65688e5a7593ee84204de5d43c8f187c">USBH_DeviceRequest_GetDescriptor</a> (uint8_t device, uint8_t recipient, uint8_t descriptor_type, uint8_t descriptor_index, uint16_t language_id, uint8_t *descriptor_data, uint16_t descriptor_length)</td></tr>
<tr class="memdesc:ga65688e5a7593ee84204de5d43c8f187c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Standard Device Request on Default Pipe - GET_DESCRIPTOR.  <br /></td></tr>
<tr class="separator:ga65688e5a7593ee84204de5d43c8f187c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga048f1116de57a104db2408f002d4f26e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__status__error__codes__usb.html#ga8196235c97e113f17993c7b4baff5f8f">usbStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__usbh__customFunctions__api.html#ga048f1116de57a104db2408f002d4f26e">USBH_DeviceRequest_SetDescriptor</a> (uint8_t device, uint8_t recipient, uint8_t descriptor_type, uint8_t descriptor_index, uint16_t language_id, const uint8_t *descriptor_data, uint16_t descriptor_length)</td></tr>
<tr class="memdesc:ga048f1116de57a104db2408f002d4f26e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Standard Device Request on Default Pipe - SET_DESCRIPTOR.  <br /></td></tr>
<tr class="separator:ga048f1116de57a104db2408f002d4f26e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga39987c151198c186b174a1b6a1992ac0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__status__error__codes__usb.html#ga8196235c97e113f17993c7b4baff5f8f">usbStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__usbh__customFunctions__api.html#ga39987c151198c186b174a1b6a1992ac0">USBH_DeviceRequest_GetConfiguration</a> (uint8_t device, uint8_t *ptr_configuration)</td></tr>
<tr class="memdesc:ga39987c151198c186b174a1b6a1992ac0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Standard Device Request on Default Pipe - GET_CONFIGURATION.  <br /></td></tr>
<tr class="separator:ga39987c151198c186b174a1b6a1992ac0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac7df4be2fc8ccceea18b369754f86f84"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__status__error__codes__usb.html#ga8196235c97e113f17993c7b4baff5f8f">usbStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__usbh__customFunctions__api.html#gac7df4be2fc8ccceea18b369754f86f84">USBH_DeviceRequest_SetConfiguration</a> (uint8_t device, uint8_t configuration)</td></tr>
<tr class="memdesc:gac7df4be2fc8ccceea18b369754f86f84"><td class="mdescLeft">&#160;</td><td class="mdescRight">Standard Device Request on Default Pipe - SET_CONFIGURATION.  <br /></td></tr>
<tr class="separator:gac7df4be2fc8ccceea18b369754f86f84"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad8f31ca57dfb6d918d58228ce69f2210"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__status__error__codes__usb.html#ga8196235c97e113f17993c7b4baff5f8f">usbStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__usbh__customFunctions__api.html#gad8f31ca57dfb6d918d58228ce69f2210">USBH_DeviceRequest_GetInterface</a> (uint8_t device, uint8_t index, uint8_t *ptr_alternate)</td></tr>
<tr class="memdesc:gad8f31ca57dfb6d918d58228ce69f2210"><td class="mdescLeft">&#160;</td><td class="mdescRight">Standard Device Request on Default Pipe - GET_INTERFACE.  <br /></td></tr>
<tr class="separator:gad8f31ca57dfb6d918d58228ce69f2210"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga79db2ac27f59e20a453cc3ab231b73ec"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__status__error__codes__usb.html#ga8196235c97e113f17993c7b4baff5f8f">usbStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__usbh__customFunctions__api.html#ga79db2ac27f59e20a453cc3ab231b73ec">USBH_DeviceRequest_SetInterface</a> (uint8_t device, uint8_t index, uint8_t alternate)</td></tr>
<tr class="memdesc:ga79db2ac27f59e20a453cc3ab231b73ec"><td class="mdescLeft">&#160;</td><td class="mdescRight">Standard Device Request on Default Pipe - SET_INTERFACE.  <br /></td></tr>
<tr class="separator:ga79db2ac27f59e20a453cc3ab231b73ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6d47caa91f70630ed54da567fb6fd1aa"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__status__error__codes__usb.html#ga8196235c97e113f17993c7b4baff5f8f">usbStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__usbh__customFunctions__api.html#ga6d47caa91f70630ed54da567fb6fd1aa">USBH_DeviceRequest_SynchFrame</a> (uint8_t device, uint8_t index, uint8_t *ptr_frame_number)</td></tr>
<tr class="memdesc:ga6d47caa91f70630ed54da567fb6fd1aa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Standard Device Request on Default Pipe - SYNCH_FRAME.  <br /></td></tr>
<tr class="separator:ga6d47caa91f70630ed54da567fb6fd1aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Description</h2>
<p>User API reference of the Custom Class. </p>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga2b0c9f2e4d76ce263a95962edd13cc7c" name="ga2b0c9f2e4d76ce263a95962edd13cc7c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2b0c9f2e4d76ce263a95962edd13cc7c">&#9670;&#160;</a></span>USBH_ControlTransfer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__status__error__codes__usb.html#ga8196235c97e113f17993c7b4baff5f8f">usbStatus</a> USBH_ControlTransfer </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>device</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="group__usbd__data__types.html#structUSB__SETUP__PACKET">USB_SETUP_PACKET</a> *&#160;</td>
          <td class="paramname"><em>setup_packet</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Do a Control Transfer on Default Pipe. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">device</td><td>index of USB Device. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">setup_packet</td><td>pointer to setup packet. </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">data</td><td>buffer containing data bytes to send or where data should be received in data stage of Control Transfer. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">len</td><td>number of bytes to send or receive in data stage of Control Transfer. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>status code that indicates the execution status of the function as defined with <a class="el" href="group__status__error__codes__usb.html#ga8196235c97e113f17993c7b4baff5f8f">usbStatus</a>.</dd></dl>
<p>The function <b>USBH_ControlTransfer</b> does an Control Transfer on the Default Pipe.</p>
<p>The argument <em>device</em> is the index of the USB Device to which Control Transfer is addressed.</p>
<p>The argument <em>setup_packet</em> pointer to setup packet.</p>
<p>The argument <em>data</em> containing data bytes to send or where data should be received in data stage of Control Transfer.</p>
<p>The argument <em>len</em> number of bytes to send or receive in data stage of Control Transfer.</p>
<p><b>Code Example</b> </p><div class="fragment"><div class="line"><a class="code hl_struct" href="group__usbd__data__types.html#structUSB__SETUP__PACKET" title="USB Setup Packet structure.">USB_SETUP_PACKET</a> setup_packet;</div>
<div class="line">uint8_t          buf[8];</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Custom PL2303 initialization</span></div>
<div class="line">setup_packet.<a class="code hl_variable" href="group__usbd__data__types.html#af7ad4865d238e6994874ea0f56963db0" title="Characteristics of request.">bmRequestType</a>.Dir      = USB_REQUEST_DEVICE_TO_HOST;</div>
<div class="line">setup_packet.<a class="code hl_variable" href="group__usbd__data__types.html#af7ad4865d238e6994874ea0f56963db0" title="Characteristics of request.">bmRequestType</a>.Type     = USB_REQUEST_VENDOR;</div>
<div class="line">setup_packet.<a class="code hl_variable" href="group__usbd__data__types.html#af7ad4865d238e6994874ea0f56963db0" title="Characteristics of request.">bmRequestType</a>.Recipient= USB_REQUEST_TO_DEVICE;</div>
<div class="line">setup_packet.<a class="code hl_variable" href="group__usbd__data__types.html#a1e7be110861bd4ff75c86d5214f31543" title="Specific request.">bRequest</a>               = 1;</div>
<div class="line">setup_packet.<a class="code hl_variable" href="group__usbd__data__types.html#a7383d0165ad8eab48aa239c005199121" title="Value according to request.">wValue</a>                 = <a class="code hl_define" href="rl__usb_8h.html#ad980796ae8db0a8f8fe5c533c1336f02">U16_LE</a>(0x8484U);</div>
<div class="line">setup_packet.<a class="code hl_variable" href="group__usbd__data__types.html#adc578ce35d89d52deba61ee6f312f177" title="Index or Offset according to request.">wIndex</a>                 = <a class="code hl_define" href="rl__usb_8h.html#ad980796ae8db0a8f8fe5c533c1336f02">U16_LE</a>(0U);</div>
<div class="line">setup_packet.<a class="code hl_variable" href="group__usbd__data__types.html#a496c03443b177fd2e6c93616064d2934" title="Number of bytes to transfer if there is a Data stage.">wLength</a>                = <a class="code hl_define" href="rl__usb_8h.html#ad980796ae8db0a8f8fe5c533c1336f02">U16_LE</a>(1U);</div>
<div class="line"><span class="keywordflow">if</span> (<a class="code hl_function" href="group__usbh__customFunctions__api.html#ga2b0c9f2e4d76ce263a95962edd13cc7c" title="Do a Control Transfer on Default Pipe.">USBH_ControlTransfer</a> (USBH_CC_Device, &amp;setup_packet, buf,  1U) != <a class="code hl_enumvalue" href="rl__usb_8h.html#ga8196235c97e113f17993c7b4baff5f8facfe6cb72ed8e7b8e95a38cbf95418dbf" title="Function completed with no error.">usbOK</a>) { <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="rl__usb_8h.html#ga8196235c97e113f17993c7b4baff5f8fa605117e84b100032def244dfc1bf6c38" title="Custom device Class (Class) error (no device or device produced error)">usbClassErrorCustom</a>; }</div>
<div class="line">:</div>
</div><!-- fragment --> 
</div>
</div>
<a id="ga385a67ca676ca94efcf078b637fdf49c" name="ga385a67ca676ca94efcf078b637fdf49c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga385a67ca676ca94efcf078b637fdf49c">&#9670;&#160;</a></span>USBH_CustomClass_Configure()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t USBH_CustomClass_Configure </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>device</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="group__usbh__data__types.html#structUSB__DEVICE__DESCRIPTOR">USB_DEVICE_DESCRIPTOR</a> *&#160;</td>
          <td class="paramname"><em>ptr_dev_desc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="group__usbh__data__types.html#structUSB__CONFIGURATION__DESCRIPTOR">USB_CONFIGURATION_DESCRIPTOR</a> *&#160;</td>
          <td class="paramname"><em>ptr_cfg_desc</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Callback function called when custom class device is connected and needs to configure resources used by custom class device instance. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">device</td><td>index of USB Device. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ptr_dev_desc</td><td>pointer to device descriptor. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ptr_cfg_desc</td><td>pointer to configuration descriptor. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>index of configured custom class device instance or configuration failed :<ul>
<li>value &lt;= 127 : index of configured custom class device instance</li>
<li>value 255 : configuration failed</li>
</ul>
</dd></dl>
<p>The function <b>USBH_CustomClass_Configure</b> should create all necessary pipes for the custom class. It needs to be adapted to the specific needs of the Custom Class that is to be supported. For more information on the <code><a class="el" href="group__usbh__data__types.html#structUSB__DEVICE__DESCRIPTOR" title="USB Device Descriptor structure.">USB_DEVICE_DESCRIPTOR</a></code>, please refer to <a class="el" href="USB_Concepts.html#USB_Device_Descriptor">Device Descriptor</a>. For more information on the <code><a class="el" href="group__usbh__data__types.html#structUSB__CONFIGURATION__DESCRIPTOR" title="USB Configuration Descriptor structure.">USB_CONFIGURATION_DESCRIPTOR</a></code>, please refer to <a class="el" href="USB_Concepts.html#USB_Configuration_Descriptor">Configuration Descriptor</a>.</p>
<p>The argument <em>device</em> specifies the instance of the connected device.</p>
<p>The argument <em>ptr_dev_desc</em> specifies the pointer to the device descriptor (<a class="el" href="USB_Concepts.html#USB_Device_Descriptor">Device Descriptor</a>) of the Custom Class.</p>
<p>The argument <em>ptr_cfg_desc</em> specifies the pointer to the configuration descriptor (<a class="el" href="USB_Concepts.html#USB_Configuration_Descriptor">Configuration Descriptor</a>) of the Custom Class.</p>
<p><b>Code Example</b> </p><div class="fragment"><div class="line">uint8_t <a class="code hl_function" href="group__usbh__customFunctions__api.html#ga385a67ca676ca94efcf078b637fdf49c" title="Callback function called when custom class device is connected and needs to configure resources used ...">USBH_CustomClass_Configure</a> (uint8_t device, <span class="keyword">const</span> <a class="code hl_struct" href="group__usbh__data__types.html#structUSB__DEVICE__DESCRIPTOR" title="USB Device Descriptor structure.">USB_DEVICE_DESCRIPTOR</a> *ptr_dev_desc, <span class="keyword">const</span> <a class="code hl_struct" href="group__usbh__data__types.html#structUSB__CONFIGURATION__DESCRIPTOR" title="USB Configuration Descriptor structure.">USB_CONFIGURATION_DESCRIPTOR</a> *ptr_cfg_desc) {</div>
<div class="line">  USB_INTERFACE_DESCRIPTOR *ptr_if_desc;</div>
<div class="line">  USB_ENDPOINT_DESCRIPTOR  *ptr_ep_desc;</div>
<div class="line">  <a class="code hl_typedef" href="group__usbh__data__types.html#ga98c1a0cd2cf7e047d714fd23dfba5e53" title="USB Host Pipe Handle.">USBH_PIPE_HANDLE</a>          pipe_hndl;</div>
<div class="line">  uint8_t                   num, i;</div>
<div class="line"> </div>
<div class="line">  USBH_CC_Device = device;              <span class="comment">// Store device</span></div>
<div class="line">  <span class="keywordflow">for</span> (i = 0U; i &lt; 8U; i++) {           <span class="comment">// Clear all pipe handles</span></div>
<div class="line">    USBH_CC_PipeHandle[i] = 0U;</div>
<div class="line">  }</div>
<div class="line">  ptr_if_desc = (USB_INTERFACE_DESCRIPTOR *)((uint32_t)ptr_cfg_desc + ptr_cfg_desc-&gt;<a class="code hl_variable" href="group__usbh__data__types.html#a1deca1f1d6e5815b290e6e1015bce5b8" title="Size of this descriptor in bytes.">bLength</a>);</div>
<div class="line">  num = ptr_if_desc-&gt;bNumEndpoints;     <span class="comment">// Number of endpoints</span></div>
<div class="line"> </div>
<div class="line">  <span class="comment">// Supported device: - Prolific PL2303 (VID = 0x067B, PID = 0x2303)</span></div>
<div class="line">  <span class="keywordflow">if</span> ((ptr_dev_desc-&gt;<a class="code hl_variable" href="group__usbh__data__types.html#ab393e07556e3858fed36ed2e260d4b4c" title="Vendor ID (assigned by the USB-IF)">idVendor</a> != 0x067BU) || (ptr_dev_desc-&gt;<a class="code hl_variable" href="group__usbh__data__types.html#a2cf29745398a958349d784b1911c6b2b" title="Product ID (assigned by the manufacturer)">idProduct</a> != 0x2303U)) {</div>
<div class="line">    <span class="keywordflow">return</span> 255U;</div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line">  <span class="keywordflow">switch</span> (ptr_if_desc-&gt;bInterfaceClass) {</div>
<div class="line">    <span class="keywordflow">case</span> CUSTOM_CLASS_IF_CLASS:                 <span class="comment">// Interface class</span></div>
<div class="line">      <span class="keywordflow">switch</span> (ptr_if_desc-&gt;bInterfaceSubClass) {</div>
<div class="line">        <span class="keywordflow">case</span> CUSTOM_CLASS_IF_SUBCLASS:          <span class="comment">// Interface subclass</span></div>
<div class="line">          <span class="keywordflow">switch</span> (ptr_if_desc-&gt;bInterfaceProtocol) {</div>
<div class="line">            <span class="keywordflow">case</span> CUSTOM_CLASS_IF_PROTOCOL:      <span class="comment">// Interface protocol</span></div>
<div class="line">              <span class="comment">// Create Pipes</span></div>
<div class="line">              ptr_ep_desc = (USB_ENDPOINT_DESCRIPTOR *)((uint32_t)ptr_if_desc + ptr_if_desc-&gt;bLength);</div>
<div class="line">              i           = 0U;</div>
<div class="line">              <span class="keywordflow">while</span> (num-- != 0U) {</div>
<div class="line">                pipe_hndl = <a class="code hl_function" href="group__usbh__customFunctions__api.html#gae9f6b49b88dca85534d8addcc7fbf049" title="Create Pipe.">USBH_PipeCreate</a> (device, ptr_ep_desc-&gt;bEndpointAddress, ptr_ep_desc-&gt;bmAttributes &amp; USB_ENDPOINT_TYPE_MASK, ptr_ep_desc-&gt;wMaxPacketSize &amp; 0x7FFU, ptr_ep_desc-&gt;bInterval);</div>
<div class="line">                <span class="keywordflow">if</span> (pipe_hndl == 0U) {</div>
<div class="line">                  <span class="comment">// If creation of pipe has failed delete previously created pipes</span></div>
<div class="line">                  <span class="keywordflow">for</span> (i = 0U; i &lt; 8U; i++) {</div>
<div class="line">                    <span class="keywordflow">if</span> (USBH_CC_PipeHandle[i] != 0U) {</div>
<div class="line">                      (void)<a class="code hl_function" href="group__usbh__customFunctions__api.html#gaeda9f9604ab830e01372bc922d55047c" title="Delete Pipe.">USBH_PipeDelete</a> (USBH_CC_PipeHandle[i]);</div>
<div class="line">                      USBH_CC_PipeHandle[i] = 0U;</div>
<div class="line">                    }</div>
<div class="line">                  }</div>
<div class="line">                  <span class="keywordflow">return</span> 255U;</div>
<div class="line">                }</div>
<div class="line">                USBH_CC_PipeHandle[i++] = pipe_hndl;</div>
<div class="line">                ptr_ep_desc++;</div>
<div class="line">              }</div>
<div class="line">              <span class="keywordflow">return</span> 0U;                <span class="comment">// Device connected and configured</span></div>
<div class="line">                                        <span class="comment">// Only single instance supported</span></div>
<div class="line">                                        <span class="comment">// so it&#39;s instance index is 0</span></div>
<div class="line">            <span class="keywordflow">default</span>:</div>
<div class="line">              <span class="keywordflow">break</span>;</div>
<div class="line">          }</div>
<div class="line">          <span class="keywordflow">break</span>;</div>
<div class="line">        <span class="keywordflow">default</span>:</div>
<div class="line">          <span class="keywordflow">break</span>;</div>
<div class="line">      }</div>
<div class="line">      <span class="keywordflow">break</span>;</div>
<div class="line">    <span class="keywordflow">default</span>:</div>
<div class="line">      <span class="keywordflow">break</span>;</div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line">  <span class="keywordflow">return</span> 255U;                          <span class="comment">// Device not handled</span></div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
</div>
<a id="gae0f3f86f8a049c663b84fda06d5668cd" name="gae0f3f86f8a049c663b84fda06d5668cd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae0f3f86f8a049c663b84fda06d5668cd">&#9670;&#160;</a></span>USBH_CustomClass_GetDevice()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t USBH_CustomClass_GetDevice </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>instance</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get Device instance of Custom Class Device. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">instance</td><td>instance of Custom Class Device. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>instance of Device or non-existing Device instance :<ul>
<li>value &lt;= 127 : instance of Device</li>
<li>value 255 : non-existing Device instance</li>
</ul>
</dd></dl>
<p>The function <b>USBH_CustomClass_GetDevice</b> is used to retrieve device instance that is used to handle custom class device instance.</p>
<p>The argument <em>instance</em> specifies the custom class device instance. </p>

</div>
</div>
<a id="ga6cc444113f6641e70d5276ffdea0b842" name="ga6cc444113f6641e70d5276ffdea0b842"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6cc444113f6641e70d5276ffdea0b842">&#9670;&#160;</a></span>USBH_CustomClass_GetStatus()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__status__error__codes__usb.html#ga8196235c97e113f17993c7b4baff5f8f">usbStatus</a> USBH_CustomClass_GetStatus </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>instance</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get status of Custom Class Device. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">instance</td><td>instance of Custom Class Device. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>status code that indicates the execution status of the function as defined with <a class="el" href="group__status__error__codes__usb.html#ga8196235c97e113f17993c7b4baff5f8f">usbStatus</a>.</dd></dl>
<p>The function <b>USBH_CustomClass_GetStatus</b> checks if a custom class device is connected and initialized.</p>
<p>The argument <em>instance</em> specifies the custom class device instance. </p>

</div>
</div>
<a id="gaa31a612e0656e87ea050ad905b8ebe06" name="gaa31a612e0656e87ea050ad905b8ebe06"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa31a612e0656e87ea050ad905b8ebe06">&#9670;&#160;</a></span>USBH_CustomClass_Initialize()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__status__error__codes__usb.html#ga8196235c97e113f17993c7b4baff5f8f">usbStatus</a> USBH_CustomClass_Initialize </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>instance</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Callback function called when custom class device is connected and needs to initialize custom class device instance. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">instance</td><td>index of custom class device instance. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>status code that indicates the execution status of the function as defined with <a class="el" href="group__status__error__codes__usb.html#ga8196235c97e113f17993c7b4baff5f8f">usbStatus</a>.</dd></dl>
<p>The function <b>USBH_CustomClass_Initialize</b> initializes the Custom Class device when connected to the system. It needs to be adapted to the specific needs of the Custom Class that is to be supported.</p>
<p>The argument <em>instance</em> specifies device instance of the Custom Class USB Device.</p>
<p><b>Code Example</b> </p><div class="fragment"><div class="line"><a class="code hl_enumeration" href="group__status__error__codes__usb.html#ga8196235c97e113f17993c7b4baff5f8f" title="Status code values returned by USB library functions.">usbStatus</a> <a class="code hl_function" href="group__usbh__customFunctions__api.html#gaa31a612e0656e87ea050ad905b8ebe06" title="Callback function called when custom class device is connected and needs to initialize custom class d...">USBH_CustomClass_Initialize</a> (uint8_t instance) {</div>
<div class="line">  <a class="code hl_struct" href="group__usbd__data__types.html#structUSB__SETUP__PACKET" title="USB Setup Packet structure.">USB_SETUP_PACKET</a> setup_packet;</div>
<div class="line">  uint32_t         br;</div>
<div class="line">  uint8_t          buf[8];</div>
<div class="line"> </div>
<div class="line">  <span class="comment">// Custom PL2303 initialization</span></div>
<div class="line">  setup_packet.<a class="code hl_variable" href="group__usbd__data__types.html#af7ad4865d238e6994874ea0f56963db0" title="Characteristics of request.">bmRequestType</a>.Dir      = USB_REQUEST_DEVICE_TO_HOST;</div>
<div class="line">  setup_packet.<a class="code hl_variable" href="group__usbd__data__types.html#af7ad4865d238e6994874ea0f56963db0" title="Characteristics of request.">bmRequestType</a>.Type     = USB_REQUEST_VENDOR;</div>
<div class="line">  setup_packet.<a class="code hl_variable" href="group__usbd__data__types.html#af7ad4865d238e6994874ea0f56963db0" title="Characteristics of request.">bmRequestType</a>.Recipient= USB_REQUEST_TO_DEVICE;</div>
<div class="line">  setup_packet.<a class="code hl_variable" href="group__usbd__data__types.html#a1e7be110861bd4ff75c86d5214f31543" title="Specific request.">bRequest</a>               = 1U;</div>
<div class="line">  setup_packet.<a class="code hl_variable" href="group__usbd__data__types.html#a7383d0165ad8eab48aa239c005199121" title="Value according to request.">wValue</a>                 = 0x8484U;</div>
<div class="line">  setup_packet.<a class="code hl_variable" href="group__usbd__data__types.html#adc578ce35d89d52deba61ee6f312f177" title="Index or Offset according to request.">wIndex</a>                 = 0U;</div>
<div class="line">  setup_packet.<a class="code hl_variable" href="group__usbd__data__types.html#a496c03443b177fd2e6c93616064d2934" title="Number of bytes to transfer if there is a Data stage.">wLength</a>                = 1U;</div>
<div class="line">  <span class="keywordflow">if</span> (<a class="code hl_function" href="group__usbh__customFunctions__api.html#ga2b0c9f2e4d76ce263a95962edd13cc7c" title="Do a Control Transfer on Default Pipe.">USBH_ControlTransfer</a> (USBH_CC_Device, &amp;setup_packet, buf,  1U) != <a class="code hl_enumvalue" href="rl__usb_8h.html#ga8196235c97e113f17993c7b4baff5f8facfe6cb72ed8e7b8e95a38cbf95418dbf" title="Function completed with no error.">usbOK</a>) { <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="rl__usb_8h.html#ga8196235c97e113f17993c7b4baff5f8fa605117e84b100032def244dfc1bf6c38" title="Custom device Class (Class) error (no device or device produced error)">usbClassErrorCustom</a>; }</div>
<div class="line"> </div>
<div class="line">  setup_packet.<a class="code hl_variable" href="group__usbd__data__types.html#af7ad4865d238e6994874ea0f56963db0" title="Characteristics of request.">bmRequestType</a>.Dir      = USB_REQUEST_HOST_TO_DEVICE;</div>
<div class="line">  setup_packet.<a class="code hl_variable" href="group__usbd__data__types.html#a7383d0165ad8eab48aa239c005199121" title="Value according to request.">wValue</a>                 = 0x0404U;</div>
<div class="line">  <span class="keywordflow">if</span> (<a class="code hl_function" href="group__usbh__customFunctions__api.html#ga2b0c9f2e4d76ce263a95962edd13cc7c" title="Do a Control Transfer on Default Pipe.">USBH_ControlTransfer</a> (USBH_CC_Device, &amp;setup_packet, buf,  1U) != <a class="code hl_enumvalue" href="rl__usb_8h.html#ga8196235c97e113f17993c7b4baff5f8facfe6cb72ed8e7b8e95a38cbf95418dbf" title="Function completed with no error.">usbOK</a>) { <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="rl__usb_8h.html#ga8196235c97e113f17993c7b4baff5f8fa605117e84b100032def244dfc1bf6c38" title="Custom device Class (Class) error (no device or device produced error)">usbClassErrorCustom</a>; }</div>
<div class="line"> </div>
<div class="line">  setup_packet.<a class="code hl_variable" href="group__usbd__data__types.html#af7ad4865d238e6994874ea0f56963db0" title="Characteristics of request.">bmRequestType</a>.Dir      = USB_REQUEST_DEVICE_TO_HOST;</div>
<div class="line">  setup_packet.<a class="code hl_variable" href="group__usbd__data__types.html#a7383d0165ad8eab48aa239c005199121" title="Value according to request.">wValue</a>                 = 0x8484U;</div>
<div class="line">  <span class="keywordflow">if</span> (<a class="code hl_function" href="group__usbh__customFunctions__api.html#ga2b0c9f2e4d76ce263a95962edd13cc7c" title="Do a Control Transfer on Default Pipe.">USBH_ControlTransfer</a> (USBH_CC_Device, &amp;setup_packet, buf,  1U) != <a class="code hl_enumvalue" href="rl__usb_8h.html#ga8196235c97e113f17993c7b4baff5f8facfe6cb72ed8e7b8e95a38cbf95418dbf" title="Function completed with no error.">usbOK</a>) { <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="rl__usb_8h.html#ga8196235c97e113f17993c7b4baff5f8fa605117e84b100032def244dfc1bf6c38" title="Custom device Class (Class) error (no device or device produced error)">usbClassErrorCustom</a>; }</div>
<div class="line"> </div>
<div class="line">  setup_packet.<a class="code hl_variable" href="group__usbd__data__types.html#a7383d0165ad8eab48aa239c005199121" title="Value according to request.">wValue</a>                 = 0x8383U;</div>
<div class="line">  <span class="keywordflow">if</span> (<a class="code hl_function" href="group__usbh__customFunctions__api.html#ga2b0c9f2e4d76ce263a95962edd13cc7c" title="Do a Control Transfer on Default Pipe.">USBH_ControlTransfer</a> (USBH_CC_Device, &amp;setup_packet, buf,  1U) != <a class="code hl_enumvalue" href="rl__usb_8h.html#ga8196235c97e113f17993c7b4baff5f8facfe6cb72ed8e7b8e95a38cbf95418dbf" title="Function completed with no error.">usbOK</a>) { <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="rl__usb_8h.html#ga8196235c97e113f17993c7b4baff5f8fa605117e84b100032def244dfc1bf6c38" title="Custom device Class (Class) error (no device or device produced error)">usbClassErrorCustom</a>; }</div>
<div class="line"> </div>
<div class="line">  setup_packet.<a class="code hl_variable" href="group__usbd__data__types.html#a7383d0165ad8eab48aa239c005199121" title="Value according to request.">wValue</a>                 = 0x8484U;</div>
<div class="line">  <span class="keywordflow">if</span> (<a class="code hl_function" href="group__usbh__customFunctions__api.html#ga2b0c9f2e4d76ce263a95962edd13cc7c" title="Do a Control Transfer on Default Pipe.">USBH_ControlTransfer</a> (USBH_CC_Device, &amp;setup_packet, buf,  1U) != <a class="code hl_enumvalue" href="rl__usb_8h.html#ga8196235c97e113f17993c7b4baff5f8facfe6cb72ed8e7b8e95a38cbf95418dbf" title="Function completed with no error.">usbOK</a>) { <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="rl__usb_8h.html#ga8196235c97e113f17993c7b4baff5f8fa605117e84b100032def244dfc1bf6c38" title="Custom device Class (Class) error (no device or device produced error)">usbClassErrorCustom</a>; }</div>
<div class="line"> </div>
<div class="line">  setup_packet.<a class="code hl_variable" href="group__usbd__data__types.html#af7ad4865d238e6994874ea0f56963db0" title="Characteristics of request.">bmRequestType</a>.Dir      = USB_REQUEST_HOST_TO_DEVICE;</div>
<div class="line">  setup_packet.<a class="code hl_variable" href="group__usbd__data__types.html#a7383d0165ad8eab48aa239c005199121" title="Value according to request.">wValue</a>                 = 0x0404U;</div>
<div class="line">  setup_packet.<a class="code hl_variable" href="group__usbd__data__types.html#adc578ce35d89d52deba61ee6f312f177" title="Index or Offset according to request.">wIndex</a>                 = 1U;</div>
<div class="line">  setup_packet.<a class="code hl_variable" href="group__usbd__data__types.html#a496c03443b177fd2e6c93616064d2934" title="Number of bytes to transfer if there is a Data stage.">wLength</a>                = 0U;</div>
<div class="line">  <span class="keywordflow">if</span> (<a class="code hl_function" href="group__usbh__customFunctions__api.html#ga2b0c9f2e4d76ce263a95962edd13cc7c" title="Do a Control Transfer on Default Pipe.">USBH_ControlTransfer</a> (USBH_CC_Device, &amp;setup_packet, NULL, 0U) != <a class="code hl_enumvalue" href="rl__usb_8h.html#ga8196235c97e113f17993c7b4baff5f8facfe6cb72ed8e7b8e95a38cbf95418dbf" title="Function completed with no error.">usbOK</a>) { <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="rl__usb_8h.html#ga8196235c97e113f17993c7b4baff5f8fa605117e84b100032def244dfc1bf6c38" title="Custom device Class (Class) error (no device or device produced error)">usbClassErrorCustom</a>; }</div>
<div class="line"> </div>
<div class="line">  setup_packet.<a class="code hl_variable" href="group__usbd__data__types.html#af7ad4865d238e6994874ea0f56963db0" title="Characteristics of request.">bmRequestType</a>.Dir      = USB_REQUEST_DEVICE_TO_HOST;</div>
<div class="line">  setup_packet.<a class="code hl_variable" href="group__usbd__data__types.html#a7383d0165ad8eab48aa239c005199121" title="Value according to request.">wValue</a>                 = 0x8484U;</div>
<div class="line">  setup_packet.<a class="code hl_variable" href="group__usbd__data__types.html#adc578ce35d89d52deba61ee6f312f177" title="Index or Offset according to request.">wIndex</a>                 = 0U;</div>
<div class="line">  setup_packet.<a class="code hl_variable" href="group__usbd__data__types.html#a496c03443b177fd2e6c93616064d2934" title="Number of bytes to transfer if there is a Data stage.">wLength</a>                = 1U;</div>
<div class="line">  <span class="keywordflow">if</span> (<a class="code hl_function" href="group__usbh__customFunctions__api.html#ga2b0c9f2e4d76ce263a95962edd13cc7c" title="Do a Control Transfer on Default Pipe.">USBH_ControlTransfer</a> (USBH_CC_Device, &amp;setup_packet, buf,  1U) != <a class="code hl_enumvalue" href="rl__usb_8h.html#ga8196235c97e113f17993c7b4baff5f8facfe6cb72ed8e7b8e95a38cbf95418dbf" title="Function completed with no error.">usbOK</a>) { <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="rl__usb_8h.html#ga8196235c97e113f17993c7b4baff5f8fa605117e84b100032def244dfc1bf6c38" title="Custom device Class (Class) error (no device or device produced error)">usbClassErrorCustom</a>; }</div>
<div class="line"> </div>
<div class="line">  setup_packet.<a class="code hl_variable" href="group__usbd__data__types.html#a7383d0165ad8eab48aa239c005199121" title="Value according to request.">wValue</a>                 = 0x8383U;</div>
<div class="line">  <span class="keywordflow">if</span> (<a class="code hl_function" href="group__usbh__customFunctions__api.html#ga2b0c9f2e4d76ce263a95962edd13cc7c" title="Do a Control Transfer on Default Pipe.">USBH_ControlTransfer</a> (USBH_CC_Device, &amp;setup_packet, buf,  1U) != <a class="code hl_enumvalue" href="rl__usb_8h.html#ga8196235c97e113f17993c7b4baff5f8facfe6cb72ed8e7b8e95a38cbf95418dbf" title="Function completed with no error.">usbOK</a>) { <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="rl__usb_8h.html#ga8196235c97e113f17993c7b4baff5f8fa605117e84b100032def244dfc1bf6c38" title="Custom device Class (Class) error (no device or device produced error)">usbClassErrorCustom</a>; }</div>
<div class="line"> </div>
<div class="line">  setup_packet.<a class="code hl_variable" href="group__usbd__data__types.html#af7ad4865d238e6994874ea0f56963db0" title="Characteristics of request.">bmRequestType</a>.Dir      = USB_REQUEST_HOST_TO_DEVICE;</div>
<div class="line">  setup_packet.<a class="code hl_variable" href="group__usbd__data__types.html#a7383d0165ad8eab48aa239c005199121" title="Value according to request.">wValue</a>                 = 0U;</div>
<div class="line">  setup_packet.<a class="code hl_variable" href="group__usbd__data__types.html#adc578ce35d89d52deba61ee6f312f177" title="Index or Offset according to request.">wIndex</a>                 = 1U;</div>
<div class="line">  setup_packet.<a class="code hl_variable" href="group__usbd__data__types.html#a496c03443b177fd2e6c93616064d2934" title="Number of bytes to transfer if there is a Data stage.">wLength</a>                = 0U;</div>
<div class="line">  <span class="keywordflow">if</span> (<a class="code hl_function" href="group__usbh__customFunctions__api.html#ga2b0c9f2e4d76ce263a95962edd13cc7c" title="Do a Control Transfer on Default Pipe.">USBH_ControlTransfer</a> (USBH_CC_Device, &amp;setup_packet, NULL, 0U) != <a class="code hl_enumvalue" href="rl__usb_8h.html#ga8196235c97e113f17993c7b4baff5f8facfe6cb72ed8e7b8e95a38cbf95418dbf" title="Function completed with no error.">usbOK</a>) { <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="rl__usb_8h.html#ga8196235c97e113f17993c7b4baff5f8fa605117e84b100032def244dfc1bf6c38" title="Custom device Class (Class) error (no device or device produced error)">usbClassErrorCustom</a>; }</div>
<div class="line"> </div>
<div class="line">  setup_packet.<a class="code hl_variable" href="group__usbd__data__types.html#a7383d0165ad8eab48aa239c005199121" title="Value according to request.">wValue</a>                 = 1U;</div>
<div class="line">  setup_packet.<a class="code hl_variable" href="group__usbd__data__types.html#adc578ce35d89d52deba61ee6f312f177" title="Index or Offset according to request.">wIndex</a>                 = 0U;</div>
<div class="line">  <span class="keywordflow">if</span> (<a class="code hl_function" href="group__usbh__customFunctions__api.html#ga2b0c9f2e4d76ce263a95962edd13cc7c" title="Do a Control Transfer on Default Pipe.">USBH_ControlTransfer</a> (USBH_CC_Device, &amp;setup_packet, NULL, 0U) != <a class="code hl_enumvalue" href="rl__usb_8h.html#ga8196235c97e113f17993c7b4baff5f8facfe6cb72ed8e7b8e95a38cbf95418dbf" title="Function completed with no error.">usbOK</a>) { <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="rl__usb_8h.html#ga8196235c97e113f17993c7b4baff5f8fa605117e84b100032def244dfc1bf6c38" title="Custom device Class (Class) error (no device or device produced error)">usbClassErrorCustom</a>; }</div>
<div class="line"> </div>
<div class="line">  setup_packet.<a class="code hl_variable" href="group__usbd__data__types.html#a7383d0165ad8eab48aa239c005199121" title="Value according to request.">wValue</a>                 = 2U;</div>
<div class="line">  setup_packet.<a class="code hl_variable" href="group__usbd__data__types.html#adc578ce35d89d52deba61ee6f312f177" title="Index or Offset according to request.">wIndex</a>                 = 0x44U;</div>
<div class="line">  <span class="keywordflow">if</span> (<a class="code hl_function" href="group__usbh__customFunctions__api.html#ga2b0c9f2e4d76ce263a95962edd13cc7c" title="Do a Control Transfer on Default Pipe.">USBH_ControlTransfer</a> (USBH_CC_Device, &amp;setup_packet, NULL, 0U) != <a class="code hl_enumvalue" href="rl__usb_8h.html#ga8196235c97e113f17993c7b4baff5f8facfe6cb72ed8e7b8e95a38cbf95418dbf" title="Function completed with no error.">usbOK</a>) { <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="rl__usb_8h.html#ga8196235c97e113f17993c7b4baff5f8fa605117e84b100032def244dfc1bf6c38" title="Custom device Class (Class) error (no device or device produced error)">usbClassErrorCustom</a>; }</div>
<div class="line"> </div>
<div class="line">  <span class="comment">// Initial CDC SetLineCoding request: Set 9600 baud, 8 data bits, 1 stop bit, no parity</span></div>
<div class="line">  setup_packet.<a class="code hl_variable" href="group__usbd__data__types.html#af7ad4865d238e6994874ea0f56963db0" title="Characteristics of request.">bmRequestType</a>.Dir      = USB_REQUEST_HOST_TO_DEVICE;</div>
<div class="line">  setup_packet.<a class="code hl_variable" href="group__usbd__data__types.html#af7ad4865d238e6994874ea0f56963db0" title="Characteristics of request.">bmRequestType</a>.Type     = USB_REQUEST_CLASS;</div>
<div class="line">  setup_packet.<a class="code hl_variable" href="group__usbd__data__types.html#af7ad4865d238e6994874ea0f56963db0" title="Characteristics of request.">bmRequestType</a>.Recipient= USB_REQUEST_TO_INTERFACE;</div>
<div class="line">  setup_packet.<a class="code hl_variable" href="group__usbd__data__types.html#a1e7be110861bd4ff75c86d5214f31543" title="Specific request.">bRequest</a>               = 0x20U;</div>
<div class="line">  setup_packet.<a class="code hl_variable" href="group__usbd__data__types.html#a7383d0165ad8eab48aa239c005199121" title="Value according to request.">wValue</a>                 = 0U;</div>
<div class="line">  setup_packet.<a class="code hl_variable" href="group__usbd__data__types.html#adc578ce35d89d52deba61ee6f312f177" title="Index or Offset according to request.">wIndex</a>                 = 0U;</div>
<div class="line">  setup_packet.<a class="code hl_variable" href="group__usbd__data__types.html#a496c03443b177fd2e6c93616064d2934" title="Number of bytes to transfer if there is a Data stage.">wLength</a>                = 7U;</div>
<div class="line">  br                                  = 9600U;          <span class="comment">// Data terminal rate in bits per second = 9600 baud</span></div>
<div class="line">  buf[0]                              = (uint8_t)( br        &amp; 0xFFU);</div>
<div class="line">  buf[1]                              = (uint8_t)((br &gt;&gt;  8) &amp; 0xFFU);</div>
<div class="line">  buf[2]                              = (uint8_t)((br &gt;&gt; 16) &amp; 0xFFU);</div>
<div class="line">  buf[3]                              = (uint8_t)((br &gt;&gt; 24) &amp; 0xFFU);</div>
<div class="line">  buf[4]                              = 0U;            <span class="comment">// Number of stop bits = 1</span></div>
<div class="line">  buf[5]                              = 0U;            <span class="comment">// Parity bit type = None</span></div>
<div class="line">  buf[6]                              = 8U;            <span class="comment">// Number of data bits = 8</span></div>
<div class="line">  <span class="keywordflow">if</span> (<a class="code hl_function" href="group__usbh__customFunctions__api.html#ga2b0c9f2e4d76ce263a95962edd13cc7c" title="Do a Control Transfer on Default Pipe.">USBH_ControlTransfer</a> (USBH_CC_Device, &amp;setup_packet, buf, 7U) != <a class="code hl_enumvalue" href="rl__usb_8h.html#ga8196235c97e113f17993c7b4baff5f8facfe6cb72ed8e7b8e95a38cbf95418dbf" title="Function completed with no error.">usbOK</a>) { <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="rl__usb_8h.html#ga8196235c97e113f17993c7b4baff5f8fa605117e84b100032def244dfc1bf6c38" title="Custom device Class (Class) error (no device or device produced error)">usbClassErrorCustom</a>; }</div>
<div class="line"> </div>
<div class="line">  <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="rl__usb_8h.html#ga8196235c97e113f17993c7b4baff5f8facfe6cb72ed8e7b8e95a38cbf95418dbf" title="Function completed with no error.">usbOK</a>;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
</div>
<a id="ga29c81dab6422324f2d94282bdcf8b43d" name="ga29c81dab6422324f2d94282bdcf8b43d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga29c81dab6422324f2d94282bdcf8b43d">&#9670;&#160;</a></span>USBH_CustomClass_Unconfigure()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__status__error__codes__usb.html#ga8196235c97e113f17993c7b4baff5f8f">usbStatus</a> USBH_CustomClass_Unconfigure </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>instance</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Callback function called when custom class device is disconnected and needs to de-configure resources used by custom class device instance. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">instance</td><td>index of custom class device instance. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>status code that indicates the execution status of the function as defined with <a class="el" href="group__status__error__codes__usb.html#ga8196235c97e113f17993c7b4baff5f8f">usbStatus</a>.</dd></dl>
<p>The function <b>USBH_CustomClass_Unconfigure</b> should release all resources that were used by the Custom Class device after it has been de-initialized using <a class="el" href="group__usbh__customFunctions__api.html#ga015780dcf593743470bb79f7ec8f18bd">USBH_CustomClass_Uninitialize</a>. All pipes relating to the Custom Class should be removed. It needs to be adapted to the specific needs of the Custom Class that is to be supported.</p>
<p>The argument <em>instance</em> specifies device instance of the Custom Class USB Device.</p>
<p><b>Code Example</b> </p><div class="fragment"><div class="line">uint8_t i;</div>
<div class="line"> </div>
<div class="line">USBH_CC_Device = 0U;</div>
<div class="line"> </div>
<div class="line"><span class="keywordflow">for</span> (i = 0U; i &lt; 8U; i++) {</div>
<div class="line">  <span class="keywordflow">if</span> (USBH_CC_PipeHandle[i] != 0U) {</div>
<div class="line">    (void)<a class="code hl_function" href="group__usbh__customFunctions__api.html#gaeda9f9604ab830e01372bc922d55047c" title="Delete Pipe.">USBH_PipeDelete</a> (USBH_CC_PipeHandle[i]);</div>
<div class="line">    USBH_CC_PipeHandle[i] = 0U;</div>
<div class="line">  }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordflow">return</span> <a class="code hl_enumvalue" href="rl__usb_8h.html#ga8196235c97e113f17993c7b4baff5f8facfe6cb72ed8e7b8e95a38cbf95418dbf" title="Function completed with no error.">usbOK</a>;</div>
</div><!-- fragment --> 
</div>
</div>
<a id="ga015780dcf593743470bb79f7ec8f18bd" name="ga015780dcf593743470bb79f7ec8f18bd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga015780dcf593743470bb79f7ec8f18bd">&#9670;&#160;</a></span>USBH_CustomClass_Uninitialize()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__status__error__codes__usb.html#ga8196235c97e113f17993c7b4baff5f8f">usbStatus</a> USBH_CustomClass_Uninitialize </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>instance</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Callback function called when custom class device is disconnected and needs to de-initialize custom class device instance. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">instance</td><td>index of custom class device instance. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>status code that indicates the execution status of the function as defined with <a class="el" href="group__status__error__codes__usb.html#ga8196235c97e113f17993c7b4baff5f8f">usbStatus</a>.</dd></dl>
<p>The function <b>USBH_CustomClass_Uninitialize</b> de-initializes the Custom Class device after it has been disconnected from the system. It needs to be adapted to the specific needs of the Custom Class that is to be supported.</p>
<p>The argument <em>instance</em> specifies device instance of the Custom Class USB Device.</p>
<p><b>Code Example</b> </p><div class="fragment"><div class="line"><a class="code hl_enumeration" href="group__status__error__codes__usb.html#ga8196235c97e113f17993c7b4baff5f8f" title="Status code values returned by USB library functions.">usbStatus</a> <a class="code hl_function" href="group__usbh__customFunctions__api.html#ga015780dcf593743470bb79f7ec8f18bd" title="Callback function called when custom class device is disconnected and needs to de-initialize custom c...">USBH_CustomClass_Uninitialize</a> (uint8_t instance) {</div>
<div class="line"> </div>
<div class="line">  <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="rl__usb_8h.html#ga8196235c97e113f17993c7b4baff5f8facfe6cb72ed8e7b8e95a38cbf95418dbf" title="Function completed with no error.">usbOK</a>;</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
</div>
<a id="ga40a426ea433d2f327d7faefe24b7b432" name="ga40a426ea433d2f327d7faefe24b7b432"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga40a426ea433d2f327d7faefe24b7b432">&#9670;&#160;</a></span>USBH_DeviceRequest_ClearFeature()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__status__error__codes__usb.html#ga8196235c97e113f17993c7b4baff5f8f">usbStatus</a> USBH_DeviceRequest_ClearFeature </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>device</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>recipient</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>feature_selector</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Standard Device Request on Default Pipe - CLEAR_FEATURE. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">device</td><td>index of USB Device. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">recipient</td><td>recipient. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">index</td><td>interface or endpoint index. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">feature_selector</td><td>feature selector. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>status code that indicates the execution status of the function as defined with <a class="el" href="group__status__error__codes__usb.html#ga8196235c97e113f17993c7b4baff5f8f">usbStatus</a>.</dd></dl>
<p>The function <b>USBH_DeviceRequest_ClearFeature</b> implements the standard device request <code>CLEAR_FEATURE</code>. This request is used to clear or disable a specific feature.</p>
<p>The argument <em>device</em> is the index of the USB Device to which standard device request is addressed.</p>
<p>The argument <em>recipient</em> defines the recipient of the <code>CLEAR_FEATURE</code> command.</p>
<p>The argument <em>index</em> denotes the interface or endpoint index to be used.</p>
<p>The argument <em>feature_selector</em> indicates the feature to be cleared. </p>

</div>
</div>
<a id="ga39987c151198c186b174a1b6a1992ac0" name="ga39987c151198c186b174a1b6a1992ac0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga39987c151198c186b174a1b6a1992ac0">&#9670;&#160;</a></span>USBH_DeviceRequest_GetConfiguration()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__status__error__codes__usb.html#ga8196235c97e113f17993c7b4baff5f8f">usbStatus</a> USBH_DeviceRequest_GetConfiguration </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>device</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>ptr_configuration</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Standard Device Request on Default Pipe - GET_CONFIGURATION. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">device</td><td>index of USB Device. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">ptr_configuration</td><td>pointer to where configuration will be read. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>status code that indicates the execution status of the function as defined with <a class="el" href="group__status__error__codes__usb.html#ga8196235c97e113f17993c7b4baff5f8f">usbStatus</a>.</dd></dl>
<p>The function <b>USBH_DeviceRequest_GetConfiguration</b> implements the standard device request <code>GET_CONFIGURATION</code>. This request returns the current device configuration value.</p>
<p>The argument <em>device</em> is the index of the USB Device to which standard device request is addressed.</p>
<p>The argument <em>ptr_configuration</em> specifies the pointer to where the configuration will be read. </p>

</div>
</div>
<a id="ga65688e5a7593ee84204de5d43c8f187c" name="ga65688e5a7593ee84204de5d43c8f187c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga65688e5a7593ee84204de5d43c8f187c">&#9670;&#160;</a></span>USBH_DeviceRequest_GetDescriptor()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__status__error__codes__usb.html#ga8196235c97e113f17993c7b4baff5f8f">usbStatus</a> USBH_DeviceRequest_GetDescriptor </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>device</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>recipient</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>descriptor_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>descriptor_index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>language_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>descriptor_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>descriptor_length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Standard Device Request on Default Pipe - GET_DESCRIPTOR. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">device</td><td>index of USB Device. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">recipient</td><td>recipient. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">descriptor_type</td><td>descriptor type. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">descriptor_index</td><td>descriptor index. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">language_id</td><td>language ID. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">descriptor_data</td><td>pointer to where descriptor data will be read. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">descriptor_length</td><td>maximum descriptor length. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>status code that indicates the execution status of the function as defined with <a class="el" href="group__status__error__codes__usb.html#ga8196235c97e113f17993c7b4baff5f8f">usbStatus</a>.</dd></dl>
<p>The function <b>USBH_DeviceRequest_GetDescriptor</b> implements the standard device request <code>GET_DESCRIPTOR</code>. This request returns the specified descriptor if the descriptor exists.</p>
<p>The argument <em>device</em> is the index of the USB Device to which standard device request is addressed.</p>
<p>The argument <em>recipient</em> defines the recipient of the <code>GET_DESCRIPTOR</code> command.</p>
<p>The argument <em>descriptor_type</em> specifies the descriptor type to be queried, whereas the argument <em>descriptor_index</em> is used to select a specific descriptor (only for configuration and string descriptors) when several descriptors of the same type are implemented in a device.</p>
<p>The argument <em>language_id</em> specifies the Language ID of string descriptors or is set to zero for other descriptors.</p>
<p>The argument <em>descriptor_data</em> is a pointer to where descriptor data will be read and <em>descriptor_length</em> specifies the number of bytes to return. </p>

</div>
</div>
<a id="gad8f31ca57dfb6d918d58228ce69f2210" name="gad8f31ca57dfb6d918d58228ce69f2210"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad8f31ca57dfb6d918d58228ce69f2210">&#9670;&#160;</a></span>USBH_DeviceRequest_GetInterface()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__status__error__codes__usb.html#ga8196235c97e113f17993c7b4baff5f8f">usbStatus</a> USBH_DeviceRequest_GetInterface </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>device</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>ptr_alternate</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Standard Device Request on Default Pipe - GET_INTERFACE. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">device</td><td>index of USB Device. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">index</td><td>interface index. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">ptr_alternate</td><td>pointer to where alternate setting data will be read. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>status code that indicates the execution status of the function as defined with <a class="el" href="group__status__error__codes__usb.html#ga8196235c97e113f17993c7b4baff5f8f">usbStatus</a>.</dd></dl>
<p>The function <b>USBH_DeviceRequest_GetInterface</b> implements the standard device request <code>GET_INTERFACE</code>. This request returns the selected alternate setting for the specified interface.</p>
<p>The argument <em>device</em> is the index of the USB Device to which standard device request is addressed.</p>
<p>The argument <em>index</em> specifies the interface index.</p>
<p>The argument <em>ptr_alternate</em> specifies the pointer to where alternate setting data will be read. </p>

</div>
</div>
<a id="ga805a67cc134452844c0ca5551dbc5dcb" name="ga805a67cc134452844c0ca5551dbc5dcb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga805a67cc134452844c0ca5551dbc5dcb">&#9670;&#160;</a></span>USBH_DeviceRequest_GetStatus()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__status__error__codes__usb.html#ga8196235c97e113f17993c7b4baff5f8f">usbStatus</a> USBH_DeviceRequest_GetStatus </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>device</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>recipient</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>ptr_stat_dat</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Standard Device Request on Default Pipe - GET_STATUS. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">device</td><td>index of USB Device. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">recipient</td><td>recipient. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">index</td><td>interface or endpoint index. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">ptr_stat_dat</td><td>pointer to where status data should be received. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>status code that indicates the execution status of the function as defined with <a class="el" href="group__status__error__codes__usb.html#ga8196235c97e113f17993c7b4baff5f8f">usbStatus</a>.</dd></dl>
<p>The function <b>USBH_DeviceRequest_GetStatus</b> implements the standard device request <code>GET_STATUS</code>. This request returns the current device configuration value.</p>
<p>The argument <em>device</em> is the index of the USB Device to which standard device request is addressed.</p>
<p>The argument <em>recipient</em> defines the recipient of the <code>GET_STATUS</code> command.</p>
<p>The argument <em>index</em> denotes the interface or endpoint index to be used.</p>
<p>The argument <em>ptr_stat_dat</em> is a pointer to the where the data should be received. </p>

</div>
</div>
<a id="ga03afd101134aa5dd17a179d5f9f1f24b" name="ga03afd101134aa5dd17a179d5f9f1f24b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga03afd101134aa5dd17a179d5f9f1f24b">&#9670;&#160;</a></span>USBH_DeviceRequest_SetAddress()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__status__error__codes__usb.html#ga8196235c97e113f17993c7b4baff5f8f">usbStatus</a> USBH_DeviceRequest_SetAddress </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>device</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>device_address</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Standard Device Request on Default Pipe - SET_ADDRESS. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">device</td><td>index of USB Device. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">device_address</td><td>device address. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>status code that indicates the execution status of the function as defined with <a class="el" href="group__status__error__codes__usb.html#ga8196235c97e113f17993c7b4baff5f8f">usbStatus</a>.</dd></dl>
<p>The function <b>USBH_DeviceRequest_SetAddress</b> implements the standard device request <code>SET_ADDRESS</code>. This request sets the device address for all future device accesses.</p>
<p>The argument <em>device</em> is the index of the USB Device to which standard device request is addressed.</p>
<p>The argument <em>device_address</em> specifies the new device address. </p>

</div>
</div>
<a id="gac7df4be2fc8ccceea18b369754f86f84" name="gac7df4be2fc8ccceea18b369754f86f84"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac7df4be2fc8ccceea18b369754f86f84">&#9670;&#160;</a></span>USBH_DeviceRequest_SetConfiguration()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__status__error__codes__usb.html#ga8196235c97e113f17993c7b4baff5f8f">usbStatus</a> USBH_DeviceRequest_SetConfiguration </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>device</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>configuration</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Standard Device Request on Default Pipe - SET_CONFIGURATION. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">device</td><td>index of USB Device. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">configuration</td><td>configuration. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>status code that indicates the execution status of the function as defined with <a class="el" href="group__status__error__codes__usb.html#ga8196235c97e113f17993c7b4baff5f8f">usbStatus</a>.</dd></dl>
<p>The function <b>USBH_DeviceRequest_SetConfiguration</b> implements the standard device request <code>SET_CONFIGURATION</code>. This request sets the device configuration.</p>
<p>The argument <em>device</em> is the index of the USB Device to which standard device request is addressed.</p>
<p>The argument <em>configuration</em> contains the new configuration to be set. </p>

</div>
</div>
<a id="ga048f1116de57a104db2408f002d4f26e" name="ga048f1116de57a104db2408f002d4f26e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga048f1116de57a104db2408f002d4f26e">&#9670;&#160;</a></span>USBH_DeviceRequest_SetDescriptor()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__status__error__codes__usb.html#ga8196235c97e113f17993c7b4baff5f8f">usbStatus</a> USBH_DeviceRequest_SetDescriptor </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>device</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>recipient</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>descriptor_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>descriptor_index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>language_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>descriptor_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>descriptor_length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Standard Device Request on Default Pipe - SET_DESCRIPTOR. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">device</td><td>index of USB Device. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">recipient</td><td>recipient. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">descriptor_type</td><td>descriptor type. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">descriptor_index</td><td>descriptor index. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">language_id</td><td>language ID. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">descriptor_data</td><td>pointer to descriptor data to be written. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">descriptor_length</td><td>descriptor length. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>status code that indicates the execution status of the function as defined with <a class="el" href="group__status__error__codes__usb.html#ga8196235c97e113f17993c7b4baff5f8f">usbStatus</a>.</dd></dl>
<p>The function <b>USBH_DeviceRequest_SetDescriptor</b> implements the standard device request <code>SET_DESCRIPTOR</code>. This request may be used to update existing or add new descriptors.</p>
<p>The argument <em>device</em> is the index of the USB Device to which standard device request is addressed.</p>
<p>The argument <em>recipient</em> defines the recipient of the <code>SET_DESCRIPTOR</code> command.</p>
<p>The argument <em>descriptor_type</em> specifies the descriptor type to be queried, whereas the argument <em>descriptor_index</em> is used to select a specific descriptor (only for configuration and string descriptors) when several descriptors of the same type are implemented in a device.</p>
<p>The argument <em>language_id</em> specifies the Language ID for string descriptors or is set to zero for other descriptors.</p>
<p>The argument <em>descriptor_data</em> is a pointer to where descriptor data will be written and <em>descriptor_length</em> specifies the number of bytes to return. </p>

</div>
</div>
<a id="gaa013903f4f5f7ef9e271ab88f2931d7f" name="gaa013903f4f5f7ef9e271ab88f2931d7f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa013903f4f5f7ef9e271ab88f2931d7f">&#9670;&#160;</a></span>USBH_DeviceRequest_SetFeature()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__status__error__codes__usb.html#ga8196235c97e113f17993c7b4baff5f8f">usbStatus</a> USBH_DeviceRequest_SetFeature </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>device</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>recipient</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>feature_selector</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Standard Device Request on Default Pipe - SET_FEATURE. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">device</td><td>index of USB Device. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">recipient</td><td>recipient. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">index</td><td>interface or endpoint index. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">feature_selector</td><td>feature selector. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>status code that indicates the execution status of the function as defined with <a class="el" href="group__status__error__codes__usb.html#ga8196235c97e113f17993c7b4baff5f8f">usbStatus</a>.</dd></dl>
<p>The function <b>USBH_DeviceRequest_SetFeature</b> implements the standard device request <code>SET_FEATURE</code>. This request is used to set or enable a specific feature.</p>
<p>The argument <em>device</em> is the index of the USB Device to which standard device request is addressed.</p>
<p>The argument <em>recipient</em> defines the recipient of the <code>SET_FEATURE</code> command.</p>
<p>The argument <em>index</em> denotes the interface or endpoint index to be used.</p>
<p>The argument <em>feature_selector</em> indicates the feature to be cleared. </p>

</div>
</div>
<a id="ga79db2ac27f59e20a453cc3ab231b73ec" name="ga79db2ac27f59e20a453cc3ab231b73ec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga79db2ac27f59e20a453cc3ab231b73ec">&#9670;&#160;</a></span>USBH_DeviceRequest_SetInterface()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__status__error__codes__usb.html#ga8196235c97e113f17993c7b4baff5f8f">usbStatus</a> USBH_DeviceRequest_SetInterface </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>device</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>alternate</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Standard Device Request on Default Pipe - SET_INTERFACE. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">device</td><td>index of USB Device. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">index</td><td>interface index. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">alternate</td><td>alternate setting. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>status code that indicates the execution status of the function as defined with <a class="el" href="group__status__error__codes__usb.html#ga8196235c97e113f17993c7b4baff5f8f">usbStatus</a>.</dd></dl>
<p>The function <b>USBH_DeviceRequest_SetInterface</b> implements the standard device request <code>SET_INTERFACE</code>. This request allows the host to select an alternate setting for the specified interface.</p>
<p>The argument <em>device</em> is the index of the USB Device to which standard device request is addressed.</p>
<p>The argument <em>index</em> specifies the interface index.</p>
<p>The argument <em>alternate</em> specifies the alternate setting to be set. </p>

</div>
</div>
<a id="ga6d47caa91f70630ed54da567fb6fd1aa" name="ga6d47caa91f70630ed54da567fb6fd1aa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6d47caa91f70630ed54da567fb6fd1aa">&#9670;&#160;</a></span>USBH_DeviceRequest_SynchFrame()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__status__error__codes__usb.html#ga8196235c97e113f17993c7b4baff5f8f">usbStatus</a> USBH_DeviceRequest_SynchFrame </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>device</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>ptr_frame_number</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Standard Device Request on Default Pipe - SYNCH_FRAME. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">device</td><td>index of USB Device. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">index</td><td>interface or endpoint index. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">ptr_frame_number</td><td>pointer to where frame number data will be read. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>status code that indicates the execution status of the function as defined with <a class="el" href="group__status__error__codes__usb.html#ga8196235c97e113f17993c7b4baff5f8f">usbStatus</a>.</dd></dl>
<p>The function <b>USBH_DeviceRequest_SynchFrame</b> implements the standard device request <code>SYNCH_FRAME</code>. This request is used to set and then report an endpoint's synchronization frame. When an endpoint supports isochronous transfers, the endpoint may also require per-frame transfers to vary in size according to a specific pattern. The host and the endpoint must agree on which frame the repeating pattern begins. The number of the frame in which the pattern began is returned to the host.</p>
<p>The argument <em>device</em> is the index of the USB Device to which standard device request is addressed.</p>
<p>The argument <em>index</em> specifies the interface index.</p>
<p>The argument <em>ptr_frame_number</em> is a pointer to where frame number data will be sent. </p>

</div>
</div>
<a id="gac0da54ada429142ce65daadd49efefb8" name="gac0da54ada429142ce65daadd49efefb8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac0da54ada429142ce65daadd49efefb8">&#9670;&#160;</a></span>USBH_PipeAbort()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__status__error__codes__usb.html#ga8196235c97e113f17993c7b4baff5f8f">usbStatus</a> USBH_PipeAbort </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__usbh__data__types.html#ga98c1a0cd2cf7e047d714fd23dfba5e53">USBH_PIPE_HANDLE</a>&#160;</td>
          <td class="paramname"><em>pipe_hndl</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Abort send/receive operation on Pipe. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pipe_hndl</td><td>pipe handle. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>status code that indicates the execution status of the function as defined with <a class="el" href="group__status__error__codes__usb.html#ga8196235c97e113f17993c7b4baff5f8f">usbStatus</a>.</dd></dl>
<p>The function <b>USBH_PipeAbort</b> aborts active send/receive operation on a Pipe.</p>
<p>The argument <em>pipe_hndl</em> is a handle to pipe on which active transfer should be aborted. </p>

</div>
</div>
<a id="gae9f6b49b88dca85534d8addcc7fbf049" name="gae9f6b49b88dca85534d8addcc7fbf049"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae9f6b49b88dca85534d8addcc7fbf049">&#9670;&#160;</a></span>USBH_PipeCreate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__usbh__data__types.html#ga98c1a0cd2cf7e047d714fd23dfba5e53">USBH_PIPE_HANDLE</a> USBH_PipeCreate </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>device</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>ep_addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>ep_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>ep_max_packet_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>ep_interval</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create Pipe. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">device</td><td>index of USB Device. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ep_addr</td><td>endpoint address :<ul>
<li>ep_addr.0..3 : address</li>
<li>ep_addr.7 : direction </li>
</ul>
</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ep_type</td><td>endpoint type. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ep_max_packet_size</td><td>endpoint maximum packet size. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ep_interval</td><td>endpoint polling interval. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>pipe handle or pipe creation failed :<ul>
<li>value &gt; 0 : pipe handle</li>
<li>value 0 : pipe creation failed</li>
</ul>
</dd></dl>
<p>The function <b>USBH_PipeCreate</b> a Pipe for communication with specific Endpoint in a Device.</p>
<p>The argument <em>device</em> specifies the instance of the device.</p>
<p>The argument <em>ep_addr</em> is the address of the endpoint.</p>
<p>The argument <em>ep_type</em> is the type of the endpoint.</p>
<p>The argument <em>ep_max_packet_size</em> is the maximum packet size of the endpoint.</p>
<p>The argument <em>ep_interval</em> is the endpoint polling interval of the endpoint.</p>
<p><b>Code Example</b> </p><div class="fragment"><div class="line">uint8_t <a class="code hl_function" href="group__usbh__customFunctions__api.html#ga385a67ca676ca94efcf078b637fdf49c" title="Callback function called when custom class device is connected and needs to configure resources used ...">USBH_CustomClass_Configure</a> (uint8_t device, <span class="keyword">const</span> <a class="code hl_struct" href="group__usbh__data__types.html#structUSB__DEVICE__DESCRIPTOR" title="USB Device Descriptor structure.">USB_DEVICE_DESCRIPTOR</a> *ptr_dev_desc, <span class="keyword">const</span> <a class="code hl_struct" href="group__usbh__data__types.html#structUSB__CONFIGURATION__DESCRIPTOR" title="USB Configuration Descriptor structure.">USB_CONFIGURATION_DESCRIPTOR</a> *ptr_cfg_desc) {</div>
<div class="line">  <a class="code hl_typedef" href="group__usbh__data__types.html#ga98c1a0cd2cf7e047d714fd23dfba5e53" title="USB Host Pipe Handle.">USBH_PIPE_HANDLE</a> pipe_hndl;</div>
<div class="line">:</div>
<div class="line">  pipe_hndl = <a class="code hl_function" href="group__usbh__customFunctions__api.html#gae9f6b49b88dca85534d8addcc7fbf049" title="Create Pipe.">USBH_PipeCreate</a> (device, ptr_ep_desc-&gt;bEndpointAddress, ptr_ep_desc-&gt;bmAttributes &amp; USB_ENDPOINT_TYPE_MASK, ptr_ep_desc-&gt;wMaxPacketSize &amp; 0x7FF, ptr_ep_desc-&gt;bInterval);</div>
<div class="line">:</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
</div>
<a id="gaeda9f9604ab830e01372bc922d55047c" name="gaeda9f9604ab830e01372bc922d55047c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaeda9f9604ab830e01372bc922d55047c">&#9670;&#160;</a></span>USBH_PipeDelete()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__status__error__codes__usb.html#ga8196235c97e113f17993c7b4baff5f8f">usbStatus</a> USBH_PipeDelete </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__usbh__data__types.html#ga98c1a0cd2cf7e047d714fd23dfba5e53">USBH_PIPE_HANDLE</a>&#160;</td>
          <td class="paramname"><em>pipe_hndl</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Delete Pipe. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pipe_hndl</td><td>pipe handle. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>status code that indicates the execution status of the function as defined with <a class="el" href="group__status__error__codes__usb.html#ga8196235c97e113f17993c7b4baff5f8f">usbStatus</a>.</dd></dl>
<p>The function <b>USBH_PipeDelete</b> removes a Pipe.</p>
<p>The argument <em>pipe_hndl</em> is a handle to pipe to be updated.</p>
<p><b>Code Example</b> </p><div class="fragment"><div class="line"><span class="comment">// If creation of pipe failed delete previously created pipes</span></div>
<div class="line"><span class="keywordflow">for</span> (i = 0U; i &lt; 8U; i++) {</div>
<div class="line">  <span class="keywordflow">if</span> (USBH_CC_PipeHandle[i] != 0U) {</div>
<div class="line">    <a class="code hl_function" href="group__usbh__customFunctions__api.html#gaeda9f9604ab830e01372bc922d55047c" title="Delete Pipe.">USBH_PipeDelete</a> (USBH_CC_PipeHandle[i]);</div>
<div class="line">    USBH_CC_PipeHandle[i] = NULL;</div>
<div class="line">  }</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
</div>
<a id="gac1ce81d11d0559993e4e21e09b868afb" name="gac1ce81d11d0559993e4e21e09b868afb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac1ce81d11d0559993e4e21e09b868afb">&#9670;&#160;</a></span>USBH_PipeReceive()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__status__error__codes__usb.html#ga8196235c97e113f17993c7b4baff5f8f">usbStatus</a> USBH_PipeReceive </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__usbh__data__types.html#ga98c1a0cd2cf7e047d714fd23dfba5e53">USBH_PIPE_HANDLE</a>&#160;</td>
          <td class="paramname"><em>pipe_hndl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Receive data on Pipe. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pipe_hndl</td><td>pipe handle. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">buf</td><td>buffer that receives data. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">len</td><td>maximum number of bytes to receive. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>status code that indicates the execution status of the function as defined with <a class="el" href="group__status__error__codes__usb.html#ga8196235c97e113f17993c7b4baff5f8f">usbStatus</a>.</dd></dl>
<p>The function <b>USBH_PipeReceive</b> receives data on a Pipe. Number of bytes received can be retrieved by USBH_PipeReceiveGetResult function.</p>
<p>The argument <em>pipe_hndl</em> is a handle to pipe used for data reception.</p>
<p>The argument <em>buf</em> buffer that receives data. It is recommended that buffer is 4-byte aligned as some drivers might not support 1-byte alignment if DMA is used.</p>
<p>The argument <em>len</em> maximum number of bytes to receive (must be multiple of device endpoint maximum packet size).</p>
<dl class="section note"><dt>Note</dt><dd>For isochronous transfer, with registered callback, this function is non-blocking and returns when transfer is queued (double-buffering). The parameter <em>data</em> must point to memory accessible by the USB Host controller and parameter <em>len</em> must be same as maximum packet size or it will be downsized to a maximum packet size of the isochronous endpoint. Only supported for full-speed transfers on the EHCI controller.</dd></dl>
<p><b>Code Example</b> </p><div class="fragment"><div class="line"><span class="keywordflow">do</span> {</div>
<div class="line">  status = <a class="code hl_function" href="group__usbh__customFunctions__api.html#gac1ce81d11d0559993e4e21e09b868afb" title="Receive data on Pipe.">USBH_PipeReceive</a> (USBH_CC_PipeHandle[PL2303_RECEIVE_PIPE_INDEX], usart_receive_data, usart_receive_num);</div>
<div class="line">} <span class="keywordflow">while</span> (status == <a class="code hl_enumvalue" href="rl__usb_8h.html#ga8196235c97e113f17993c7b4baff5f8fa9bc79fe1432b596c95184a2f477b55d6" title="Function completed; time-out occurred.">usbTimeout</a>);</div>
</div><!-- fragment --> 
</div>
</div>
<a id="ga72ee4be76cac3022479167381f4e9edf" name="ga72ee4be76cac3022479167381f4e9edf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga72ee4be76cac3022479167381f4e9edf">&#9670;&#160;</a></span>USBH_PipeReceiveGetResult()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t USBH_PipeReceiveGetResult </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__usbh__data__types.html#ga98c1a0cd2cf7e047d714fd23dfba5e53">USBH_PIPE_HANDLE</a>&#160;</td>
          <td class="paramname"><em>pipe_hndl</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get result of receive data operation on Pipe. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pipe_hndl</td><td>pipe handle. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>number of successfully received data bytes.</dd></dl>
<p>The function <b>USBH_PipeReceiveGetResult</b> retrieves number of received data bytes on a Pipe.</p>
<p>The argument <em>pipe_hndl</em> is a handle to pipe used for data reception.</p>
<dl class="section note"><dt>Note</dt><dd>For non-blocking isochronous transfer, this function always returns 0. </dd></dl>

</div>
</div>
<a id="ga12cd3441f6ff8663044a64d151e51aab" name="ga12cd3441f6ff8663044a64d151e51aab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga12cd3441f6ff8663044a64d151e51aab">&#9670;&#160;</a></span>USBH_PipeRegisterCallback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__status__error__codes__usb.html#ga8196235c97e113f17993c7b4baff5f8f">usbStatus</a> USBH_PipeRegisterCallback </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__usbh__data__types.html#ga98c1a0cd2cf7e047d714fd23dfba5e53">USBH_PIPE_HANDLE</a>&#160;</td>
          <td class="paramname"><em>pipe_hndl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__usbh__data__types.html#ga975e4cbe15686153438f14d54134c0f9">USBH_PipeEvent_t</a>&#160;</td>
          <td class="paramname"><em>cb_pipe_event</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Register a callback for Pipe events. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pipe_hndl</td><td>pipe handle. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">cb_pipe_event</td><td>pointer to pipe event callback function :<ul>
<li>value &gt; 0 : pointer to pipe event callback function</li>
<li>value 0 : unregister pipe event callback </li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>status code that indicates the execution status of the function as defined with <a class="el" href="group__status__error__codes__usb.html#ga8196235c97e113f17993c7b4baff5f8f">usbStatus</a>.</dd></dl>
<p>The function <b>USBH_PipeRegisterCallback</b> registers a callback function that will be called upon pipe event.</p>
<p>The argument <em>pipe_hndl</em> is a handle to pipe for registering callback.</p>
<p>The argument <em>cb_pipe_event</em> specifies the callback function.</p>
<dl class="section note"><dt>Note</dt><dd>Currently supported only for isochronous pipes. Callback function is called from interrupt context so it may not call functions like USBH_PipeSend or USBH_PipeReceive directly. It is recommended to set a flag for a thread that can then call USBH_PipeSend or USBH_PipeReceive to start a new transfer.</dd></dl>
<p><b>Code Example</b> </p><div class="fragment"><div class="line"><span class="keywordtype">void</span> IsoReceived (uint32_t event, <span class="keyword">const</span> uint8_t *buf, uint32_t len) {</div>
<div class="line">  osThreadFlagsSet(thread_id_iso, 1U);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">uint8_t <a class="code hl_function" href="group__usbh__customFunctions__api.html#ga385a67ca676ca94efcf078b637fdf49c" title="Callback function called when custom class device is connected and needs to configure resources used ...">USBH_CustomClass_Configure</a> (uint8_t device, <span class="keyword">const</span> <a class="code hl_struct" href="group__usbh__data__types.html#structUSB__DEVICE__DESCRIPTOR" title="USB Device Descriptor structure.">USB_DEVICE_DESCRIPTOR</a> *ptr_dev_desc, <span class="keyword">const</span> <a class="code hl_struct" href="group__usbh__data__types.html#structUSB__CONFIGURATION__DESCRIPTOR" title="USB Configuration Descriptor structure.">USB_CONFIGURATION_DESCRIPTOR</a> *ptr_cfg_desc) {</div>
<div class="line">  <a class="code hl_typedef" href="group__usbh__data__types.html#ga98c1a0cd2cf7e047d714fd23dfba5e53" title="USB Host Pipe Handle.">USBH_PIPE_HANDLE</a> pipe_hndl;</div>
<div class="line">:</div>
<div class="line">  pipe_hndl = <a class="code hl_function" href="group__usbh__customFunctions__api.html#gae9f6b49b88dca85534d8addcc7fbf049" title="Create Pipe.">USBH_PipeCreate</a> (device, ptr_ep_desc-&gt;bEndpointAddress, ptr_ep_desc-&gt;bmAttributes &amp; USB_ENDPOINT_TYPE_MASK, ptr_ep_desc-&gt;wMaxPacketSize &amp; 0x7FF, ptr_ep_desc-&gt;bInterval);</div>
<div class="line">  <a class="code hl_function" href="group__usbh__customFunctions__api.html#ga12cd3441f6ff8663044a64d151e51aab" title="Register a callback for Pipe events.">USBH_PipeRegisterCallback</a> (pipe_hndl, IsoReceived);</div>
<div class="line">:</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
</div>
<a id="gaa029b616b58bc2bd20d30ddb1221f72f" name="gaa029b616b58bc2bd20d30ddb1221f72f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa029b616b58bc2bd20d30ddb1221f72f">&#9670;&#160;</a></span>USBH_PipeReset()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__status__error__codes__usb.html#ga8196235c97e113f17993c7b4baff5f8f">usbStatus</a> USBH_PipeReset </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__usbh__data__types.html#ga98c1a0cd2cf7e047d714fd23dfba5e53">USBH_PIPE_HANDLE</a>&#160;</td>
          <td class="paramname"><em>pipe_hndl</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reset Pipe (reset data toggle) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pipe_hndl</td><td>pipe handle. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>status code that indicates the execution status of the function as defined with <a class="el" href="group__status__error__codes__usb.html#ga8196235c97e113f17993c7b4baff5f8f">usbStatus</a>.</dd></dl>
<p>The function <b>USBH_PipeReset</b> resets data toggle of a Pipe.</p>
<p>The argument <em>pipe_hndl</em> is a handle to pipe to be reset. </p>

</div>
</div>
<a id="gadba45e9c38b4fe791c3e07c602655b7c" name="gadba45e9c38b4fe791c3e07c602655b7c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gadba45e9c38b4fe791c3e07c602655b7c">&#9670;&#160;</a></span>USBH_PipeSend()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__status__error__codes__usb.html#ga8196235c97e113f17993c7b4baff5f8f">usbStatus</a> USBH_PipeSend </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__usbh__data__types.html#ga98c1a0cd2cf7e047d714fd23dfba5e53">USBH_PIPE_HANDLE</a>&#160;</td>
          <td class="paramname"><em>pipe_hndl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send data on Pipe. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pipe_hndl</td><td>pipe handle. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">buf</td><td>buffer containing data bytes to send. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">len</td><td>number of bytes to send. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>status code that indicates the execution status of the function as defined with <a class="el" href="group__status__error__codes__usb.html#ga8196235c97e113f17993c7b4baff5f8f">usbStatus</a>.</dd></dl>
<p>The function <b>USBH_PipeSend</b> sends data on a Pipe. Number of bytes sent can be retrieved by USBH_PipeSendGetResult function.</p>
<p>The argument <em>pipe_hndl</em> is a handle to pipe used for sending data.</p>
<p>The argument <em>buf</em> buffer containing data bytes to send. It is recommended that buffer is 4-byte aligned as some drivers might not support 1-byte alignment if DMA is used.</p>
<p>The argument <em>len</em> maximum number of bytes to send.</p>
<dl class="section note"><dt>Note</dt><dd>For isochronous transfer, with registered callback, this function is non-blocking and returns when transfer is queued (double-buffering). The parameter <em>data</em> must point to memory accessible by the USB Host controller and parameter <em>len</em> must be same as maximum packet size or it will be downsized to a maximum packet size of the isochronous endpoint. Only supported for full-speed transfers on the EHCI controller.</dd></dl>
<p><b>Code Example</b> </p><div class="fragment"><div class="line"><span class="comment">// Send Data on Bulk Out Pipe in thread</span></div>
<div class="line"><a class="code hl_function" href="group__usbh__customFunctions__api.html#gadba45e9c38b4fe791c3e07c602655b7c" title="Send data on Pipe.">USBH_PipeSend</a> (USBH_CC_PipeHandle[PL2303_SEND_PIPE_INDEX], usart_send_data, usart_send_num);</div>
</div><!-- fragment --> 
</div>
</div>
<a id="ga666bc31ca8f10153435c8235ffe6d133" name="ga666bc31ca8f10153435c8235ffe6d133"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga666bc31ca8f10153435c8235ffe6d133">&#9670;&#160;</a></span>USBH_PipeSendGetResult()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t USBH_PipeSendGetResult </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__usbh__data__types.html#ga98c1a0cd2cf7e047d714fd23dfba5e53">USBH_PIPE_HANDLE</a>&#160;</td>
          <td class="paramname"><em>pipe_hndl</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get result of send data operation on Pipe. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pipe_hndl</td><td>pipe handle. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>number of successfully sent data bytes.</dd></dl>
<p>The function <b>USBH_PipeSendGetResult</b> retrieves number of successfully sent data bytes on a Pipe.</p>
<p>The argument <em>pipe_hndl</em> is a handle to pipe used for sending data.</p>
<dl class="section note"><dt>Note</dt><dd>For non-blocking isochronous transfer, this function always returns 0. </dd></dl>

</div>
</div>
<a id="ga3bb7973ffaf495c82c11921954e0eb6b" name="ga3bb7973ffaf495c82c11921954e0eb6b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3bb7973ffaf495c82c11921954e0eb6b">&#9670;&#160;</a></span>USBH_PipeUpdate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__status__error__codes__usb.html#ga8196235c97e113f17993c7b4baff5f8f">usbStatus</a> USBH_PipeUpdate </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__usbh__data__types.html#ga98c1a0cd2cf7e047d714fd23dfba5e53">USBH_PIPE_HANDLE</a>&#160;</td>
          <td class="paramname"><em>pipe_hndl</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Update Pipe. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pipe_hndl</td><td>pipe handle. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>status code that indicates the execution status of the function as defined with <a class="el" href="group__status__error__codes__usb.html#ga8196235c97e113f17993c7b4baff5f8f">usbStatus</a>.</dd></dl>
<p>The function <b>USBH_PipeUpdate</b> modifies a Pipe with changed device parameters (for example if device address has changed).</p>
<p>The argument <em>pipe_hndl</em> is a handle to pipe to be updated. </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">
      <script type="text/javascript">
        <!--
        writeFooter.call(this);
        //-->
      </script> 
    </li>
  </ul>
</div>
</body>
</html>

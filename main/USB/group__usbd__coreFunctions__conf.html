<!-- HTML header for doxygen 1.9.6-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>USB Component: Configuration</title>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="tabs.js"></script>
<script type="text/javascript" src="footer.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="URL_keys.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<script type="text/javascript" src="darkmode_toggle.js"></script>
<link href="extra_stylesheet.css" rel="stylesheet" type="text/css"/>
<link href="extra_navtree.css" rel="stylesheet" type="text/css"/>
<link href="extra_search.css" rel="stylesheet" type="text/css"/>
<link href="extra_tabs.css" rel="stylesheet" type="text/css"/>
<link href="version.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../version.js"></script>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 55px;">
  <td id="projectlogo" style="padding: 1.5em;"><img alt="Logo" src="armkeil_white_h.png"/></td>
  <td style="padding-left: 1em; padding-bottom: 1em;padding-top: 1em;">
   <div id="projectname">USB Component
   &#160;<span id="projectnumber"><script type="text/javascript">
     <!--
     writeHeader.call(this);
     writeVersionDropdown.call(this, "USB Component");
     //-->
    </script>
   </span>
   </div>
   <div id="projectbrief">MDK Middleware for USB Device and Host Communication</div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
  <!--END !PROJECT_NAME-->
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<div id="CMSISnav" class="tabs1">
  <ul class="tablist">
    <script type="text/javascript">
      writeComponentTabs.call(this);
    </script>
  </ul>
</div>
<script type="text/javascript">
  writeSubComponentTabs.call(this);
</script>
<!-- Generated by Doxygen 1.9.6 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('group__usbd__coreFunctions__conf.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">Configuration<div class="ingroups"><a class="el" href="group__usbd.html">USB Device</a> &raquo; <a class="el" href="group__usbd__coreFunctions.html">Core</a></div></div></div>
</div><!--header-->
<div class="contents">

<p>Configuration of the USB Device Core.  
</p>
<p>Configuration of the USB Device Core. </p>
<p>The configuration file <b>USBD_Config_<em>n</em>.h</b> contains generic settings for the USB Device and parameters that are necessary to create <a class="el" href="USB_Concepts.html#USB_Descriptors">USB Descriptors</a> . Some parts of the USB descriptors are configured in the respective device class configuration files (<a class="el" href="group__usbd__adcFunctions__conf.html">USBD_Config_ADC.h</a>, <a class="el" href="group__usbd__cdcFunctions__acm__conf.html">USBD_Config_CDC.h</a>, <a class="el" href="group__usbd__classFunctions__conf.html">USBD_Config_CustomClass.h</a>, <a class="el" href="group__usbd__hidFunctions__conf.html">USBD_Config_HID.h</a> and <a class="el" href="group__usbd__mscFunctions__conf.html">USBD_Config_MSC.h</a>).</p>
<div class="image">
<img src="usbd_config_0_h.png" alt=""/>
<div class="caption">
USB Device Core Configuration File</div></div>
<p>The configuration file <b>USBD_Config_<em>n</em>.h</b> contains the following settings:</p><ul>
<li><b>Connect to hardware via Driver_USBD# </b> sets the <b>CMSIS-Driver</b> <b>Number</b> to be used (according to the selected USB controller). For devices with single USB Device Controller it will typically be '0'.</li>
<li><b>High-Speed</b> may be selected if supported by the USB controller.</li>
<li><b>Device Settings</b> are used to create the <a class="el" href="USB_Concepts.html#USB_Device_Descriptor">Device Descriptor</a>.<ul>
<li><b>Max Endpoint 0 Packet Size</b> sets the maximum packet size for Endpoint 0.</li>
<li>The <b>Vendor</b> <b>ID</b> (VID) needs to be set to a private VID. The default Vendor ID is owned by Keil and must not be used for actual products. Please visit <a href="https://www.usb.org/getting-vendor-id" class="el" target="_blank">USB-IF</a> for more information on how to apply for a valid Vendor ID.</li>
<li>Every device variant needs an unique <b>Product</b> <b>ID</b>. Together with the <b>VID</b>, it is used by the Host computer's operating system to find a driver for your device.</li>
<li>The <b>Device Release Number</b> will be shown in Windows and Linux systems as “Firmware Revision”. The number will be interpreted as “binary coded decimal”, meaning that 0x0101 will be shown as firmware revision 1.01.</li>
</ul>
</li>
<li><b>Configuration Settings</b> are used to create the <a class="el" href="USB_Concepts.html#USB_Configuration_Descriptor">Configuration Descriptor</a>.<ul>
<li><b>Power</b> determines whether the device is self- or bus-powered.</li>
<li><b>Maximum Power Consumption (in mA) </b> advertises the maximum current drawn from the bus in this specific configuration when the USB Device is fully operational.</li>
</ul>
</li>
<li><b>String Settings</b> are used to create the string descriptor within the <a class="el" href="USB_Concepts.html#USB_Device_Descriptor">Device Descriptor</a>.<ul>
<li><b>Language ID</b> set the product's language.</li>
<li><b>Manufacturer String</b> describes the product's manufacturer.</li>
<li><b>Product String</b> describes the product.</li>
<li>Enable <b>Serial Number String</b> to be able to assign a serial number string to the product.<ul>
<li><b>Default value</b> describes the device's default serial number string when enabled.</li>
<li><b>Maximum Length (in characters)</b> describes the maximum number of serial number string characters that can be set at run-time.</li>
</ul>
</li>
</ul>
</li>
<li><b>Microsoft OS Descriptor Settings</b> are used to create the <a href="https://learn.microsoft.com/en-us/previous-versions/gg463179(v=msdn.10)" class="el" target="_blank">Microsoft OS Descriptors</a>.<ul>
<li>Enable <b>OS String</b> for device to contain Microsoft OS string descriptor.<ul>
<li><b>Vendor Code</b> specifies the vendor code used to retrieve associated feature descriptors.</li>
</ul>
</li>
</ul>
</li>
<li><b>Control Transfer Buffer Size</b> specifies the maximum size of control transfer.</li>
<li><b>Data Buffers</b> is used for locating the USB data buffers in memory.<ul>
<li><b>Locate</b> specifies if the USB data buffers are located in a specific memory (via the linker script). This is usually necessary in case that USB Controller has some specific requirements regarding memory for USB transfers. For example if USB Controller can only access specific memory, or if this memory needs to be non-cacheable.</li>
<li><b>Section Name</b> specifies the section name for the USB data buffers that is used by the linker script to position it in memory. Default section name is <code>.driver.usbd&lt;instance&gt;</code>, for example for USB Device 0 the default section name is <code>.driver.usbd0</code>.</li>
</ul>
</li>
<li>Use the <b>OS Resources Settings</b> to optimize the usage of OS resources.<ul>
<li>The default <b>Core Thread Stack Size </b> is <em>1024</em> bytes.</li>
<li>The default Core Thread priority is <b>osPriorityAboveNormal</b>. This priority can be changed by changing USBD<em>n</em>_CORE_THREAD_PRIORITY define in this configuration file. This priority needs to be high enough so that USB Stack can react to USB events in a timely manner. Due to this requirement it is recommended to keep this setting at default. </li>
</ul>
</li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">
      <script type="text/javascript">
        <!--
        writeFooter.call(this);
        //-->
      </script> 
    </li>
  </ul>
</div>
</body>
</html>

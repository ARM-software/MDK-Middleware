<!-- HTML header for doxygen 1.9.6-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>File System Component: System Routines</title>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="tabs.js"></script>
<script type="text/javascript" src="footer.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="URL_keys.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<script type="text/javascript" src="darkmode_toggle.js"></script>
<link href="extra_stylesheet.css" rel="stylesheet" type="text/css"/>
<link href="extra_navtree.css" rel="stylesheet" type="text/css"/>
<link href="extra_search.css" rel="stylesheet" type="text/css"/>
<link href="extra_tabs.css" rel="stylesheet" type="text/css"/>
<link href="version.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../version.js"></script>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 55px;">
  <td id="projectlogo" style="padding: 1.5em;"><img alt="Logo" src="armkeil_white_h.png"/></td>
  <td style="padding-left: 1em; padding-bottom: 1em;padding-top: 1em;">
   <div id="projectname">File System Component
   &#160;<span id="projectnumber"><script type="text/javascript">
     <!--
     writeHeader.call(this);
     writeVersionDropdown.call(this, "File System Component");
     //-->
    </script>
   </span>
   </div>
   <div id="projectbrief">MDK Middleware for Devices with Flash File System</div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
  <!--END !PROJECT_NAME-->
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<div id="CMSISnav" class="tabs1">
  <ul class="tablist">
    <script type="text/javascript">
      writeComponentTabs.call(this);
    </script>
  </ul>
</div>
<script type="text/javascript">
  writeSubComponentTabs.call(this);
</script>
<!-- Generated by Doxygen 1.9.6 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('group__system__routines.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">System Routines</div></div>
</div><!--header-->
<div class="contents">

<p>System Routines initialize the File System or Drive.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gaaeb9531273e21b81a3a4a5a9f6285fa0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__status__error__codes__fs.html#gad871e37ea72fced1b09e65f119d4e441">fsStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__system__routines.html#gaaeb9531273e21b81a3a4a5a9f6285fa0">finit</a> (const char *drive)</td></tr>
<tr class="memdesc:gaaeb9531273e21b81a3a4a5a9f6285fa0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize File System and drive related driver.  <br /></td></tr>
<tr class="separator:gaaeb9531273e21b81a3a4a5a9f6285fa0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaba8e0aa837faf575c639efb1167af20f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__status__error__codes__fs.html#gad871e37ea72fced1b09e65f119d4e441">fsStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__system__routines.html#gaba8e0aa837faf575c639efb1167af20f">funinit</a> (const char *drive)</td></tr>
<tr class="memdesc:gaba8e0aa837faf575c639efb1167af20f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Uninitialize File System.  <br /></td></tr>
<tr class="separator:gaba8e0aa837faf575c639efb1167af20f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gade92b7c5b374fb1485f2f9faa7259f27"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__status__error__codes__fs.html#gad871e37ea72fced1b09e65f119d4e441">fsStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__system__routines.html#gade92b7c5b374fb1485f2f9faa7259f27">fmount</a> (const char *drive)</td></tr>
<tr class="memdesc:gade92b7c5b374fb1485f2f9faa7259f27"><td class="mdescLeft">&#160;</td><td class="mdescRight">Mount drive.  <br /></td></tr>
<tr class="separator:gade92b7c5b374fb1485f2f9faa7259f27"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad1975930d66a5b2fd05ca3502955785b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__status__error__codes__fs.html#gad871e37ea72fced1b09e65f119d4e441">fsStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__system__routines.html#gad1975930d66a5b2fd05ca3502955785b">funmount</a> (const char *drive)</td></tr>
<tr class="memdesc:gad1975930d66a5b2fd05ca3502955785b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unmount drive.  <br /></td></tr>
<tr class="separator:gad1975930d66a5b2fd05ca3502955785b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf4ec4e9b1c0746aa4b83ad0dc9ab617e"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__system__routines.html#gaf4ec4e9b1c0746aa4b83ad0dc9ab617e">fversion</a> (void)</td></tr>
<tr class="memdesc:gaf4ec4e9b1c0746aa4b83ad0dc9ab617e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve the File System component version.  <br /></td></tr>
<tr class="separator:gaf4ec4e9b1c0746aa4b83ad0dc9ab617e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Description</h2>
<p>System Routines initialize the File System or Drive. </p>
<p>The following diagram shows the basic flow of how to call the system routines to get access to a drive and a drive's media:</p><ol type="1">
<li>Call <a class="el" href="group__system__routines.html#gaaeb9531273e21b81a3a4a5a9f6285fa0">finit</a> to initialize the drive itself.</li>
<li>Call <a class="el" href="group__system__routines.html#gade92b7c5b374fb1485f2f9faa7259f27">fmount</a> to get access to the drive's media.</li>
<li>Work with the media.</li>
<li>Call <a class="el" href="group__system__routines.html#gad1975930d66a5b2fd05ca3502955785b">funmount</a> to give up access to the media.</li>
<li>Call <a class="el" href="group__system__routines.html#gaba8e0aa837faf575c639efb1167af20f">funinit</a> to uninitialize the drive.</li>
</ol>
<div class="image">
<img src="fs_system_routines.png" alt=""/>
<div class="caption">
Basic Flow Diagram for Calling System Routines</div></div>
<p>The routines are thread safe.</p>
<p><b>Code Example</b> </p><div class="fragment"><div class="line"><span class="keywordtype">void</span> main (<span class="keywordtype">void</span>) {</div>
<div class="line">  FILE *f;</div>
<div class="line"> </div>
<div class="line">  <span class="comment">// Initialize the M: drive.</span></div>
<div class="line">  <span class="keywordflow">if</span> (<a class="code hl_function" href="group__system__routines.html#gaaeb9531273e21b81a3a4a5a9f6285fa0" title="Initialize File System and drive related driver.">finit</a> (<span class="stringliteral">&quot;M:&quot;</span>) != <a class="code hl_enumvalue" href="rl__fs_8h.html#gad871e37ea72fced1b09e65f119d4e441a4456550a7764bbc4805e75946bd5a4c8" title="Operation succeeded.">fsOK</a>) {</div>
<div class="line">    <span class="comment">// error handling</span></div>
<div class="line">  ...</div>
<div class="line">  }</div>
<div class="line">  <span class="comment">// Mount the M: drive.</span></div>
<div class="line">  <span class="keywordflow">if</span> (<a class="code hl_function" href="group__system__routines.html#gade92b7c5b374fb1485f2f9faa7259f27" title="Mount drive.">fmount</a> (<span class="stringliteral">&quot;M:&quot;</span>) != <a class="code hl_enumvalue" href="rl__fs_8h.html#gad871e37ea72fced1b09e65f119d4e441a4456550a7764bbc4805e75946bd5a4c8" title="Operation succeeded.">fsOK</a>) {</div>
<div class="line">    <span class="comment">// error handling</span></div>
<div class="line">  ...</div>
<div class="line">  }</div>
<div class="line">  <span class="comment">// Update a log file on SD card.</span></div>
<div class="line">  f = <a class="code hl_function" href="group__stdio__routines.html#ga76a21223ed39a2692fdfc854aab93b2c" title="Open file stream.">fopen</a> (<span class="stringliteral">&quot;M:\\Logs\\Test_file.log&quot;</span>,<span class="stringliteral">&quot;a&quot;</span>);</div>
<div class="line">  <span class="keywordflow">if</span> (f == NULL) {</div>
<div class="line">    <span class="comment">// error handling</span></div>
<div class="line">  ...</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">else</span> {</div>
<div class="line">    <span class="comment">// write data to file</span></div>
<div class="line">    <a class="code hl_function" href="group__stdio__routines.html#ga76370407f9ab0402564c2bb9bc9664e0" title="Close file stream.">fclose</a> (f);</div>
<div class="line">  }</div>
<div class="line">  <span class="comment">// The drive is no more needed.</span></div>
<div class="line">  <a class="code hl_function" href="group__system__routines.html#gad1975930d66a5b2fd05ca3502955785b" title="Unmount drive.">funmount</a> (<span class="stringliteral">&quot;M:&quot;</span>);</div>
<div class="line">  <a class="code hl_function" href="group__system__routines.html#gaba8e0aa837faf575c639efb1167af20f" title="Uninitialize File System.">funinit</a> (<span class="stringliteral">&quot;M:&quot;</span>);</div>
<div class="line">  ..</div>
<div class="line">}</div>
</div><!-- fragment --> <h2 class="groupheader">Function Documentation</h2>
<a id="gaaeb9531273e21b81a3a4a5a9f6285fa0" name="gaaeb9531273e21b81a3a4a5a9f6285fa0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaaeb9531273e21b81a3a4a5a9f6285fa0">&#9670;&#160;</a></span>finit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__status__error__codes__fs.html#gad871e37ea72fced1b09e65f119d4e441">fsStatus</a> finit </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>drive</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize File System and drive related driver. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">drive</td><td>a string specifying the <a class="el" href="fs_operation.html#drive">memory or storage device</a>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>execution status <a class="el" href="group__status__error__codes__fs.html#gad871e37ea72fced1b09e65f119d4e441">fsStatus</a><ul>
<li>fsOK = Operation successful.</li>
<li>fsInvalidParameter = Input parameter invalid.</li>
<li>fsInvalidDrive = Nonexistent drive letter specified.</li>
<li>fsDriverError = Failed to initialize the driver.</li>
<li>fsError = System resource create failed.</li>
</ul>
</dd></dl>
<p>The function <b>finit</b> initializes the software library resources required for a certain <em>drive</em>, including the File System and the related driver. It must be called before invoking any other function accessing the file system of the <em>drive</em>. Calling <b>finit</b> does not access the actual media on the specified <em>drive</em>. Before working with the drive's media, a call to <a class="el" href="group__system__routines.html#gade92b7c5b374fb1485f2f9faa7259f27">fmount</a> is required. <a class="el" href="group__system__routines.html#gade92b7c5b374fb1485f2f9faa7259f27">fmount</a> checks if the media is present and formatted. <b>finit</b> fails if the File System Component in general or the driver cannot be initialized.</p>
<p>Once the drive is successfully initialized, all subsequent calls of finit will return execution status fsOK, leaving internal drive state unchanged.</p>
<p>The argument <em>drive</em> specifies the <a class="el" href="fs_operation.html#drive">Drives, Memory Devices and Drivers</a> to be initialized. Every drive that is used in the system must be initialized separately using this function. The <a class="el" href="fs_operation.html#cur_sys_drive">Current Drive</a> is used if an empty string is provided. A NULL pointer is not allowed and will be rejected.</p>
<dl class="section note"><dt>Note</dt><dd>Function finit initializes operating system resources and should not be called from multiple threads. </dd></dl>

</div>
</div>
<a id="gade92b7c5b374fb1485f2f9faa7259f27" name="gade92b7c5b374fb1485f2f9faa7259f27"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gade92b7c5b374fb1485f2f9faa7259f27">&#9670;&#160;</a></span>fmount()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__status__error__codes__fs.html#gad871e37ea72fced1b09e65f119d4e441">fsStatus</a> fmount </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>drive</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Mount drive. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">drive</td><td>a string specifying the <a class="el" href="fs_operation.html#drive">memory or storage device</a>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>execution status <a class="el" href="group__status__error__codes__fs.html#gad871e37ea72fced1b09e65f119d4e441">fsStatus</a><ul>
<li>fsOK = Operation successful.</li>
<li>fsUninitializedDrive = Media driver not initialized.</li>
<li>fsInvalidParameter = Input parameter invalid.</li>
<li>fsInvalidDrive = Nonexistent drive letter specified.</li>
<li>fsDriverError = Media driver operation failed.</li>
<li>fsMediaError = Failed to initialize the media.</li>
<li>fsNoMedia = Media device is not insterted.</li>
<li>fsNoFileSystem = No filesystem on the volume.</li>
</ul>
</dd></dl>
<p>The function <b>fmount</b> is used to mount the File System of the specified <a class="el" href="fs_operation.html#drive">Drives, Memory Devices and Drivers</a>. It initializes memory media, media management layer and the file system on top of it. Mounting means that it will be checked if the drive's media is attached and formatted. After a successful mount, drive is ready for file I/O operations (such as <a class="el" href="group__stdio__routines.html#ga035ff3f250bb8d87973f9fb1c3c76f9c">fread</a>, <a class="el" href="group__stdio__routines.html#ga0f0929f348d0667d83ec3cd5a7672e93">fwrite</a>, etc.).</p>
<p>The argument <em>drive</em> specifies the <a class="el" href="fs_operation.html#drive">Drives, Memory Devices and Drivers</a> to be mounted. Every drive that is used in the system must be mounted separately using this function. The <a class="el" href="fs_operation.html#cur_sys_drive">Current Drive</a> is used if an empty string is provided. A NULL pointer is not allowed and will be rejected.</p>
<p>The drive that requires formatting also requires operational memory media and therefore <b>fmount</b> shall be called before attempting to format the drive. The memory media is operational when <b>fmount</b> successfully examines the drive and returns with execution status <b>fsOK</b> or <b>fsNoFileSystem</b>. Execution status <b>fsNoFileSystem</b> is returned when the file system on the memory media is not present or is unrecognized. </p>

</div>
</div>
<a id="gaba8e0aa837faf575c639efb1167af20f" name="gaba8e0aa837faf575c639efb1167af20f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaba8e0aa837faf575c639efb1167af20f">&#9670;&#160;</a></span>funinit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__status__error__codes__fs.html#gad871e37ea72fced1b09e65f119d4e441">fsStatus</a> funinit </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>drive</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Uninitialize File System. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">drive</td><td>a string specifying the <a class="el" href="fs_operation.html#drive">memory or storage device</a>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>execution status <a class="el" href="group__status__error__codes__fs.html#gad871e37ea72fced1b09e65f119d4e441">fsStatus</a><ul>
<li>fsOK = Operation successful.</li>
<li>fsInvalidParameter = Input parameter invalid.</li>
<li>fsInvalidDrive = Nonexistent drive letter specified.</li>
<li>fsError = System resource delete failed.</li>
</ul>
</dd></dl>
<p>The <b>funinit</b> function uninitializes the File System. This is necessary if during application run time the drive volume needs to be disabled (for example for lowering power consumption). To reinitialize the drive afterwards, <b>finit</b> needs to be called again.</p>
<p>The execution of funinit is unconditional and will always uninitialize available drive resources.</p>
<p>The argument <em>drive</em> specifies the <a class="el" href="fs_operation.html#drive">Drives, Memory Devices and Drivers</a> to be uninitialized. Every drive that is used in the system must be uninitialized separately using this function. The <a class="el" href="fs_operation.html#cur_sys_drive">Current Drive</a> is used if an empty string is provided. A NULL pointer is not allowed and will be rejected.</p>
<dl class="section note"><dt>Note</dt><dd>Function funinit uninitializes operating system resources and should not be called from multiple threads. </dd></dl>

</div>
</div>
<a id="gad1975930d66a5b2fd05ca3502955785b" name="gad1975930d66a5b2fd05ca3502955785b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad1975930d66a5b2fd05ca3502955785b">&#9670;&#160;</a></span>funmount()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__status__error__codes__fs.html#gad871e37ea72fced1b09e65f119d4e441">fsStatus</a> funmount </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>drive</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Unmount drive. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">drive</td><td>a string specifying the <a class="el" href="fs_operation.html#drive">memory or storage device</a>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>execution status <a class="el" href="group__status__error__codes__fs.html#gad871e37ea72fced1b09e65f119d4e441">fsStatus</a><ul>
<li>fsOK = Operation successful.</li>
<li>fsInvalidParameter = Input parameter invalid.</li>
<li>fsInvalidDrive = Nonexistent drive letter specified.</li>
</ul>
</dd></dl>
<p>The function <b>funmount</b> is used to unmount a File System volume. When called, it flushes the data from internal file system buffers, closes all opened file handlers associated with the specified drive and disconnects the memory media. In case when removable memory media is not present only file handlers associated with the specified drive are closed.</p>
<p>The argument <em>drive</em> specifies the <a class="el" href="fs_operation.html#drive">Drives, Memory Devices and Drivers</a> to be unmounted. Every drive that is used in the system must be unmounted separately using this function. The <a class="el" href="fs_operation.html#cur_sys_drive">Current Drive</a> is used if an empty string is provided. A NULL pointer is not allowed and will be rejected. </p>

</div>
</div>
<a id="gaf4ec4e9b1c0746aa4b83ad0dc9ab617e" name="gaf4ec4e9b1c0746aa4b83ad0dc9ab617e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf4ec4e9b1c0746aa4b83ad0dc9ab617e">&#9670;&#160;</a></span>fversion()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t fversion </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieve the File System component version. </p>
<dl class="section return"><dt>Returns</dt><dd>BCD encoded version: 0xMMmmbbbb (MM:major, mm:minor, bbbb:build)</dd></dl>
<p>The function <b>fversion</b> retrieves the version of the File System component. Returned version is encoded in BCD format <b>0xMMmmbbbb</b> where <b>MM</b> represents major version, <b>mm</b> minor version and <b>bbbb</b> build version.</p>
<p><b>Code Example</b> </p><div class="fragment"><div class="line"><span class="keywordtype">void</span> print_version (<span class="keywordtype">void</span>) {</div>
<div class="line">  uint32_t fs_ver;</div>
<div class="line"> </div>
<div class="line">  fs_ver = <a class="code hl_function" href="group__system__routines.html#gaf4ec4e9b1c0746aa4b83ad0dc9ab617e" title="Retrieve the File System component version.">fversion</a>();</div>
<div class="line"> </div>
<div class="line">  <span class="comment">// Extract and printf FileSystem version</span></div>
<div class="line">  printf (<span class="stringliteral">&quot;Major: %d%d, Minor: %d%d, Build: %d%d%d%d\n&quot;</span>, \</div>
<div class="line">          (fs_ver &gt;&gt; 28) &amp; 0xF, (fs_ver &gt;&gt; 24) &amp; 0xF,    \</div>
<div class="line">          (fs_ver &gt;&gt; 20) &amp; 0xF, (fs_ver &gt;&gt; 16) &amp; 0xF,    \</div>
<div class="line">          (fs_ver &gt;&gt; 12) &amp; 0xF, (fs_ver &gt;&gt; 8)  &amp; 0xF,    \</div>
<div class="line">          (fs_ver &gt;&gt;  4) &amp; 0xF, (fs_ver &amp; 0xF));</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">
      <script type="text/javascript">
        <!--
        writeFooter.call(this);
        //-->
      </script> 
    </li>
  </ul>
</div>
</body>
</html>

<!-- HTML header for doxygen 1.9.6-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>USB Component: Supported USB Classes</title>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="tabs.js"></script>
<script type="text/javascript" src="footer.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="URL_keys.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<script type="text/javascript" src="darkmode_toggle.js"></script>
<link href="extra_stylesheet.css" rel="stylesheet" type="text/css"/>
<link href="extra_navtree.css" rel="stylesheet" type="text/css"/>
<link href="extra_search.css" rel="stylesheet" type="text/css"/>
<link href="extra_tabs.css" rel="stylesheet" type="text/css"/>
<link href="version.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../version.js"></script>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 55px;">
  <td id="projectlogo" style="padding: 1.5em;"><img alt="Logo" src="armkeil_white_h.png"/></td>
  <td style="padding-left: 1em; padding-bottom: 1em;padding-top: 1em;">
   <div id="projectname">USB Component
   &#160;<span id="projectnumber"><script type="text/javascript">
     <!--
     writeHeader.call(this);
     writeVersionDropdown.call(this, "USB Component");
     //-->
    </script>
   </span>
   </div>
   <div id="projectbrief">MDK Middleware for USB Device and Host Communication</div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
  <!--END !PROJECT_NAME-->
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<div id="CMSISnav" class="tabs1">
  <ul class="tablist">
    <script type="text/javascript">
      writeComponentTabs.call(this);
    </script>
  </ul>
</div>
<script type="text/javascript">
  writeSubComponentTabs.call(this);
</script>
<!-- Generated by Doxygen 1.9.6 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('USB_Classes.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Supported USB Classes </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="md_src_usb_classes"></a> This page gives an in-depth description of the USB Device Classes that are covered in the USB Middleware Component:</p>
<ul>
<li><a class="el" href="USB_Classes.html#ADC">Audio Device Class (ADC)</a> is used to exchange streaming audio data between the USB Host and the USB Device. The USB Component supports the ADC Class for USB Device applications only.</li>
<li><a class="el" href="USB_Classes.html#CDC">Communication Device Class (CDC)</a> implements virtual communication ports. The USB Component supports the CDC Class for USB Device (ACM and NCM) and USB Host (ACM only) applications.</li>
<li><a class="el" href="USB_Classes.html#HID">Human Interface Device (HID)</a> is typically used to implement a keyboard, joystick or mouse. However, the HID class can be also used for simple data exchange. The USB Component supports the HID Class for USB Device and USB Host applications.</li>
<li><a class="el" href="USB_Classes.html#MSC">Mass Storage Class (MSC)</a> devices are not limited to an USB memory stick. Various devices can be connected to an USB Host using MSC: SD cards, internal or external Flash memory and even a simple RAM disk. The USB Component supports the MSC Class for USB Device and USB Host applications.</li>
<li><a class="el" href="USB_Classes.html#CustomClass">Custom Class</a> devices can be used to implement any USB Device Class. The USB Component supports the Custom Class for USB Device and USB Host applications.</li>
</ul>
<h1><a class="anchor" id="ADC"></a>
ADC: Audio Device Class</h1>
<p>USB peripherals that support the Audio Device Class send or receive audio, voice, and other sound-related functionality (such as control data for the audio equipment). These audio functions often come with other functions such as video or storage. Together, they make up a composite device (e.g. a DVD-ROM player that can provide video, audio, data storage and transport control functionality). Audio class devices use isochronous data transfer for audio streams. Digitally encoded music data can be delivered using bulk transfers.</p>
<p>A detailed description about ADC is provided by the <a href="https://www.usb.org/documents?search=&amp;category%5B%5D=49&amp;type%5B%5D=55&amp;items_per_page=50">USB Implementers Forum (USB-IF)</a>.</p>
<dl class="section note"><dt>Note</dt><dd><ul>
<li>The ADC implementation in the USB Component supports:<ul>
<li>A subset of the Audio Device Class Release v1.0 specification</li>
<li>One streaming OUT and/or one streaming IN interface, each configurable in 1 channel (mono) or 2 channels (stereo) mode</li>
<li>Asynchronous synchronization type</li>
<li>Full-speed isochronous transfer type (only with one isochronous OUT and/or one isochronous IN endpoint)</li>
<li>Type I PCM data Format</li>
<li>One sampling frequency for each streaming interface</li>
<li>Sample resolutions of 8 bits, 16 bits, 24 bits or 32 bits per sample</li>
<li>Feature unit with mute and volume controls</li>
</ul>
</li>
<li>The <a class="el" href="index.html#mainpage">USB Component</a> supports the ADC Class for <a class="el" href="USB_Device.html">USB Device</a> applications only.</li>
<li>Further information on how to use ADC is given in the Reference section: <a class="el" href="group__usbd__adcFunctions.html">ADC: Audio Device Class</a></li>
</ul>
</dd></dl>
<h1><a class="anchor" id="CDC"></a>
CDC: Communication Device Class</h1>
<p>The <b>Communication Device Class (CDC)</b> supports a wide range of devices that can perform telecommunications and networking functions. Examples for communications equipment are:</p>
<ul>
<li><em>Telecommunications</em> devices, such as analog phones and modems, ISDN terminal adapters, digital phones, as well as COM-port devices</li>
<li><em>Networking</em> devices, such as ADSL and cable modems, as well as Ethernet adapters and hubs</li>
</ul>
<p>A detailed description about CDC is provided by the <a href="https://www.usb.org/documents?search=&amp;category%5B%5D=49&amp;type%5B%5D=55&amp;items_per_page=50">USB Implementers Forum (USB-IF)</a>.</p>
<h2><a class="anchor" id="CDC_Features"></a>
CDC Class Features</h2>
<p>A communications device has three basic tasks:</p>
<ul>
<li>Device management (controlling an configuring a specific device and notifying the USB Host of certain events)</li>
<li>Call management (establishing and terminating telephone calls or other connections)</li>
<li>Data transmission (sending and receiving application data)</li>
</ul>
<p>The CDC implementation in the USB Component features:</p>
<ul>
<li>Emulation of a Virtual COM-port using the <a class="el" href="group__usbd__cdcFunctions__acm.html">ACM (Abstract Control Model)</a> subclass of CDC.</li>
<li>Emulation of network connectivity using the <a href="https://en.wikipedia.org/wiki/RNDIS">RDNIS</a> protocol using the <a class="el" href="group__usbd__cdcFunctions__acm.html">ACM (Abstract Control Model)</a> subclass of CDC. This enables network connections over USB between a Windows host PC and an embedded device, as well as USB Device RNDIS to Ethernet Bridge applications.</li>
<li>Emulation of an Ethernet adapter using the <a class="el" href="group__usbd__cdcFunctions__ncm.html">NCM (Network Control Model)</a> subclass of CDC (only available for <a class="el" href="USB_Device.html">USB Device</a>). Using CDC (NCM), you can create Ethernet-over-USB applications on Linux-based host systems.</li>
</ul>
<dl class="section note"><dt>Note</dt><dd>The following endpoint configurations are supported:<ul>
<li>One interrupt IN endpoint for notifications to the USB Host</li>
<li>One bulk IN and one bulk OUT endpoint for data transfer</li>
</ul>
</dd></dl>
<h2><a class="anchor" id="CDC_Control_Transfers"></a>
Control Transfers</h2>
<p>The documents available at <a href="https://www.usb.org/documents?search=&amp;category%5B%5D=49&amp;type%5B%5D=55&amp;items_per_page=50">Communications Device Class</a> describe the nine available request types for the Abstract Control Model (ACM). All requests specified for the Network Control Model (NCM) by the documents in ECM120.pdf and NCM10.pdf are supported.</p>
<h2><a class="anchor" id="CDC_Descriptors"></a>
USB Descriptors</h2>
<p>The following descriptors are required in an USB CDC ACM Device:</p>
<ul>
<li>Standard Device Descriptor</li>
<li>Standard Configuration Descriptor</li>
<li>Interface Association Descriptor</li>
<li>CDC Header Functional Descriptor</li>
<li>CDC Union Functional Descriptor</li>
<li>Call Management Functional Descriptor</li>
<li>Abstract Control Management Functional Descriptor</li>
<li>Standard Interface Descriptor for the CDC Class communication interface</li>
<li>Standard Endpoint Descriptor for Interrupt IN endpoint</li>
<li>Standard Interface Descriptor for the CDC Class data interface</li>
<li>Standard Endpoint Descriptors for Bulk IN and Bulk OUT endpoints</li>
</ul>
<p>The following descriptors are required in an USB CDC NCM Device:</p>
<ul>
<li>Standard Device Descriptor</li>
<li>Standard Configuration Descriptor</li>
<li>Interface Association Descriptor</li>
<li>CDC Header Functional Descriptor</li>
<li>CDC Union Functional Descriptor</li>
<li>CDC Ethernet Networking Functional Descriptor</li>
<li>NCM Functional Descriptor</li>
<li>Standard Interface Descriptor for the CDC Class communication interface</li>
<li>Standard Endpoint Descriptor for Interrupt IN endpoint</li>
<li>Standard Interface Descriptor for the CDC Class data interface</li>
<li>Standard Endpoint Descriptors for Bulk IN and Bulk OUT endpoints</li>
</ul>
<p>The necessary descriptors are automatically generated by the USB Middleware Component. The page <a class="el" href="USB_Concepts.html#USB_Descriptors">USB Descriptors</a> provides more information on the topic.</p>
<dl class="section note"><dt>Note</dt><dd>Further information on how to use CDC is given in the Reference section:<ul>
<li><a class="el" href="group__usbd__cdcFunctions__acm.html">USB Device CDC (ACM) Functions</a></li>
<li><a class="el" href="group__usbd__cdcFunctions__ncm.html">USB Device CDC (NCM) Functions</a></li>
<li><a class="el" href="group__usbh__cdcacmFunctions.html">USB Host CDC Functions</a></li>
</ul>
</dd></dl>
<h1><a class="anchor" id="HID"></a>
HID: Human Interface Device Class</h1>
<p>The <b>Human Interface Device Class (HID)</b> is mainly used for devices that allow human control over a PC. Using these devices, the host is able to react on human input (e.g. movements of a mouse or key presses). This response has to happen quickly, so that the computer user does not notice a significant delay between his action and the expected feedback. Typical examples for HID class devices are:</p>
<ul>
<li>Keyboards and pointing devices (such as mouse devices, joysticks and trackballs)</li>
<li>Front-panel controls (for example buttons, knobs, sliders, and switches)</li>
<li>Simulation devices (such as steering wheels, pedals, other VR input devices)</li>
<li>Remote controls and telephone keypads</li>
<li>Other low data-rate devices that provide for example environmental data (such as thermometers, energy meters or even bar-code readers)</li>
</ul>
<p>A detailed description about HID is provided by the <a href="https://www.usb.org/documents?search=&amp;category%5B%5D=49&amp;type%5B%5D=55&amp;items_per_page=50">USB Implementers Forum (USB-IF)</a>.</p>
<h2><a class="anchor" id="HID_Features"></a>
HID Class Features</h2>
<p>The HID class is not necessarily a human interface. But a device using the HID class has to be able to work within the limits of the HID class. These HID class implementation of the USB Component has the following features:</p>
<ul>
<li>All data is exchanged in <b>reports</b>. These are fixed-length structures that sent or requested by the USB Host in <b>control</b> or <b>interrupt transfers</b>. Reports have a flexible format and can contain any type of data. Every HID device needs to have one input report in its report descriptor. Output and feature reports are optional.</li>
<li>An interrupt IN endpoint is required for sending <b>input reports</b> to the USB Host.</li>
<li>The maximum number of interrupt IN and OUT endpoints is limited to 1.</li>
<li>The interrupt OUT endpoint is <em>optional</em>.</li>
<li>As the HID device can send data at any point in time using the interrupt IN endpoint, the USB Host driver needs to make sure that the data is polled periodically.</li>
<li>The <a class="el" href="index.html#mainpage">USB Component</a> supports the HID Class for <a class="el" href="USB_Device.html">USB Device</a> and <a class="el" href="USB_Host.html">USB Host</a> applications.</li>
</ul>
<h2><a class="anchor" id="HID_Control_Transfers"></a>
Control Transfers</h2>
<p>The <a href="https://www.usb.org/documents?search=&amp;category%5B%5D=49&amp;type%5B%5D=55&amp;items_per_page=50">HID specification</a> defines six class-specific requests. They enable the USB Host to inquire about the capabilities and the current state of the device. Furthermore, the host can set the state of output and feature items. All six requests are transmitted using the control pipe.</p>
<ul>
<li>The <code>Get_Report</code> request enables the USB Host to receive a report via the control pipe</li>
<li>The <code>Set_Report</code> request allows the USB Host to send a report to the device (for example for setting device states)</li>
<li>The device's current <b>idle rate</b> can be read using the <code>Get_Idle</code> request. The idle rate determines how often a device resends data that has not changed since the last report.</li>
<li>The <b>idle rate</b> can be set using the <code>Set_Idle</code> request. This is used to limit the reporting frequency of an interrupt IN endpoint. Default idle rates are 500 milliseconds for keyboards (delay before first repeat rate) and infinity for joysticks and mouse devices.</li>
<li>During booting of the USB Host, a simplified protocol can be used for communication. The <code>Get_Protocol</code> request reads which protocol is currently active. The <code>Set_Protocol</code> request switches between the boot protocol and the report protocol.</li>
</ul>
<h2><a class="anchor" id="HID_Interrupt_Transfers"></a>
Interrupt Transfers</h2>
<p>To ensure minimum data delay, interrupt endpoints are used. The bandwidth for interrupt transfers is guaranteed for every device after successful enumeration. Control endpoints may face data delivery delay in case the bus is busy.</p>
<h2><a class="anchor" id="HID_Descriptors"></a>
USB Descriptors</h2>
<p>The following descriptors are required in an USB HID Device:</p>
<ul>
<li>Standard Device Descriptor</li>
<li>Standard Configuration Descriptor</li>
<li>Standard Interface Descriptor for the HID Class</li>
<li>Class-Specific HID Descriptor</li>
<li>Standard Endpoint Descriptor for Interrupt IN endpoint</li>
<li>Class-Specific Report Descriptor</li>
</ul>
<p>The necessary descriptors are automatically generated by the USB Middleware Component. The report descriptor is built based on the settings in the <code>USBD_Config_HID_x.h</code> file. The number of reports and their maximum size are specified in this file. The page <a class="el" href="USB_Concepts.html#USB_Descriptors">USB Descriptors</a> provides more information on the topic.</p>
<dl class="section note"><dt>Note</dt><dd>Further information on how to use HID is given in the Reference section:<ul>
<li><a class="el" href="group__usbd__hidFunctions.html">USB Device HID Functions</a></li>
<li><a class="el" href="group__usbh__hidFunctions.html">USB Host HID Functions</a></li>
</ul>
</dd></dl>
<h1><a class="anchor" id="MSC"></a>
MSC: Mass Storage Class</h1>
<p>The <b>Mass Storage Class (MSC)</b> is mainly used for devices that allow access to their internal data storage. Typical examples for MSC class devices are:</p>
<ul>
<li>External hard drives (HDD)</li>
<li>External optical drives (such as CD or DVD drives)</li>
<li>Portable Flash memory devices</li>
<li>Solid-state drives (SSD)</li>
<li>Digital cameras</li>
<li>Card readers</li>
<li>Mobile phones</li>
</ul>
<p>A detailed description about MSC is provided by the <a href="https://www.usb.org/documents?search=&amp;category%5B%5D=49&amp;type%5B%5D=55&amp;items_per_page=50">USB Implementers Forum (USB-IF)</a>.</p>
<h2><a class="anchor" id="MSC_Features"></a>
MSC Class Features</h2>
<p>Not only hard disks use the MSC class. Any device that allows access to its internal data storage using MSC can be connected to the USB Bus as a mass storage device. The MSC class implementation in the USB Component has the following features:</p>
<ul>
<li>It supports the <b>bulk-only transport (BOT)</b> protocol. The BOT protocol specifies that not only data is transferred using bulk transfer, but also command and status data.</li>
<li>The maximum number of bulk IN and OUT endpoints is fixed to 1.</li>
<li><a class="el" href="USB_Device.html">USB Device</a> supports multiple logical units (LUNs) which can operate separately, for example one unit could have an SD card as media and another one could have a RAM disk as media.</li>
<li>The <a class="el" href="index.html#mainpage">USB Component</a> supports the MSC Class for <a class="el" href="USB_Device.html">USB Device</a> and <a class="el" href="USB_Host.html">USB Host</a> applications.</li>
</ul>
<h2><a class="anchor" id="MSC_Control_Transfers"></a>
Control Transfers</h2>
<p>The <a href="https://www.usb.org/documents?search=&amp;category%5B%5D=49&amp;type%5B%5D=55&amp;items_per_page=50">MSC specification</a> defines five class-specific requests to be transmitted over the default (control) pipe. Only two of them are supported by the bulk-only protocol:</p>
<ul>
<li>The <b>Bulk Only Mass Storage Reset</b> request enables the USB Host to reset the MSC device and its associated interface.</li>
<li>The <b>Get Max LUN</b> request allows the USB Host determine the number of <b>Logical Units (LUNs)</b> that are supported by the device. LUNs are numbered starting from LUN 0 to LUN 15 (maximum).</li>
</ul>
<h2><a class="anchor" id="MSC_Bulk_Transfers"></a>
Bulk Transfers</h2>
<p>The bulk-only protocol divides a successful data transfer into three stages:</p>
<ol type="1">
<li>Command transport: the USB Host sends a command in the <b>Command Block Wrapper (CBW)</b> structure</li>
<li>Data transport: the data is sent to or from the USB Host</li>
<li>Status transport: the USB Device sends status information in the <b>Command Status Wrapper (CSW)</b> structure</li>
</ol>
<h2><a class="anchor" id="MSC_Descriptors"></a>
USB Descriptors</h2>
<p>The following descriptors are required in an USB MSC Device:</p>
<ul>
<li>Standard Device Descriptor</li>
<li>Standard Configuration Descriptor</li>
<li>Standard Interface Descriptor for the MSC Class</li>
<li>Standard Endpoint Descriptors for Bulk IN and Bulk OUT endpoints</li>
<li>Standard String Descriptor</li>
</ul>
<p>The necessary descriptors are automatically generated by the USB Middleware Component. The page <a class="el" href="USB_Concepts.html#USB_Descriptors">USB Descriptors</a> provides more information on the topic.</p>
<dl class="section note"><dt>Note</dt><dd>Further information on how to use MSC is given in the Reference section:<ul>
<li><a class="el" href="group__usbd__mscFunctions.html">USB Device MSC Functions</a></li>
<li><a class="el" href="group__usbh__mscFunctions.html">USB Host MSC Functions</a></li>
</ul>
</dd></dl>
<h1><a class="anchor" id="CustomClass"></a>
Custom Class</h1>
<h2><a class="anchor" id="CustomClass_Host"></a>
USB Host supporting any Device Class</h2>
<p>The Custom Class for USB Host has two use cases:</p>
<ol type="1">
<li>Implementing/supporting a <a href="https://www.usb.org/defined-class-codes">standard</a> Device class other than <a class="el" href="USB_Classes.html#CDC">CDC</a>, <a class="el" href="USB_Classes.html#HID">HID</a> and <a class="el" href="USB_Classes.html#MSC">MSC</a> (also CDC, HID and MSC class handling can be overridden).</li>
<li>Implementing/supporting a <a href="https://www.usb.org/defined-class-codes">vendor specific</a> Device class.</li>
</ol>
<p>Supporting Custom or Standard Class Devices requires the USB Host to be aware of the specific Class. On a PC, it is easy to add Class support by simply installing the required driver. However, in an embedded system this is not possible.</p>
<p>The <a class="el" href="group__usbh__customFunctions.html">Custom Class</a> are a starting point for adding support for any USB Device Class. Furthermore, all <b>Class Specific Requests</b> need to be handled by the application running on the USB Host system. For more information on these requests, please consult the <a href="https://www.usb.org/documents?search=&amp;category%5B%5D=49&amp;type%5B%5D=55&amp;items_per_page=50">USB-IF Device Class Documents</a>. The <b>user code template</b> file <a class="el" href="group__usbh__customFunctions.html#USBH_Cust_UCT">USBH_User_CustomClass.c</a> contains all the functions that require adaptation.</p>
<p>The number of concurrent Custom Class Devices in a system can be configured using the <code>USBH_Config_CustomClass.h</code> configuration file.</p>
<h2><a class="anchor" id="CustomClass_Device"></a>
USB Device implementing any Device Class</h2>
<p>The Custom Class for USB Device has two use cases:</p><ol type="1">
<li>Implementing/supporting a <a href="https://www.usb.org/defined-class-codes">standard</a> Device class other than <a class="el" href="USB_Classes.html#ADC">ADC</a>, <a class="el" href="USB_Classes.html#CDC">CDC</a>, <a class="el" href="USB_Classes.html#HID">HID</a>, and <a class="el" href="USB_Classes.html#MSC">MSC</a>.</li>
<li>Implementing/supporting a <a href="https://www.usb.org/defined-class-codes">vendor specific</a> Device class.</li>
</ol>
<p>The Custom Class gives full control of the USB handling. It is designed to react on any kind of event on any of the assigned endpoints and to handle any control message that may reach the system. The application has the full capability of dealing with control messages for whatever USB Device class. Message handling control can be taken over from the USB Device Core. The <b>user code template</b> file <a class="el" href="group__usbd__coreFunctions.html#USBD_User_Device_UCT">USBD_User_Device.c</a> contains all functions used for Device level Control Endpoint 0 (STANDARD, CLASS and VENDOR requests) message interception and handling, whereas file <a class="el" href="group__usbd__classFunctions.html#USBD_User_Cust_UCT">USBD_User_CustomClass.c</a> contains all the functions used for Custom Class Control Endpoint 0 CLASS requests and Custom Class endpoint events handling.</p>
<p>To create the Custom Class the configuration file providing up to four interfaces with up to 8 endpoints has been provided.</p>
<h2><a class="anchor" id="CustomClass_Descriptors"></a>
USB Descriptors</h2>
<p>Every USB Device requires certain descriptors. The following list is not complete but gives an impression about the various descriptors that may be required:</p>
<ul>
<li>Standard Device Descriptor</li>
<li>Standard Configuration Descriptor</li>
<li>Standard Interface Descriptor for the Class that is implemented</li>
<li>Standard Endpoint Descriptors for IN and OUT endpoints</li>
<li>Standard String Descriptor</li>
</ul>
<p>The necessary descriptors are automatically generated by the USB Middleware Component from the Class, Subclass, and Protocol Codes and the Interface String specified in the <code>USBD_Config_CustomClass_n.h</code> file. The page <a class="el" href="USB_Concepts.html#USB_Descriptors">USB Descriptors</a> provides more information on the topic.</p>
<dl class="section note"><dt>Note</dt><dd>Further information on how to use the Custom Class in a USB Device is given in the Reference section:<ul>
<li><a class="el" href="group__usbd__classFunctions.html">USB Device Custom Class Functions</a></li>
<li><a class="el" href="group__usbh__customFunctions.html">USB Host Custom Class Functions</a> </li>
</ul>
</dd></dl>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">
      <script type="text/javascript">
        <!--
        writeFooter.call(this);
        //-->
      </script> 
    </li>
  </ul>
</div>
</body>
</html>
